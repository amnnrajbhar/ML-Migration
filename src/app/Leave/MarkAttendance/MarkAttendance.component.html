<section class="content-header">
    <h1 class="display-1">
        Attendance
        <small>Mark Attendance</small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-database" aria-hidden="true"></i> Home</a></li>
        <li class="active">Mark Attendance</li>
    </ol>
</section>

<!-- Main content -->
<section class="content">
    <div class="box">
        <div class="box-header">
            <div class="col-sm-12">
                <form #markAtt="ngForm">
                    <h2 class="display-1">
                        <b>Mark Attendance Form</b>
                    </h2>
                    &nbsp;&nbsp;
                    <div class="row">
                        <div class="col-sm-3">
                            <div class="form-group form-group-sm">
                                <label for="filtermonth"> Month <span style="color:red">*</span></label>
                                <select [(ngModel)]="filtermonth" class="form-control" id="filtermonth"
                                    name="filtermonth" ngControl="filtermonth" #filtermonthEnt="ngModel"
                                    matTooltip="Select Month">
                                    <option [ngValue]="null" disabled>--Select an Option--</option>
                                    <option *ngFor="let month of Monthlist" value={{month.id}}>
                                        {{month.name}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <label for="filterYear"> Financial Year</label>
                            <select [(ngModel)]="filterYear" class="form-control" id="filterYear" name="filterYear"
                                ngControl="filterYear" #filterYearEnt="ngModel" matTooltip="Select Year">
                                <option [ngValue]="null" disabled>--Select an Option--</option>
                                <option *ngFor="let yrr of YearList" value={{yrr.year}}>{{yrr.year |
                                    date:'yyyy'}}
                                </option>
                            </select>
                        </div>
                        <div class="col-sm-2">
                            <label>&nbsp;</label>
                            <div class="form-group form-group-sm">
                                <button class="btn btn-primary btn-sm" [disabled]="!markAtt.valid"
                                    (click)="getEmpAtt();" matTooltip="click to go">Go</button>
                                &nbsp;&nbsp;
                                <button class="btn btn-primary btn-sm" (click)="clearFilter();"
                                    matTooltip="click to reset">Clear</button>
                            </div>
                        </div>
                    </div>
                </form>
                &nbsp;&nbsp;
                &nbsp;&nbsp;

                <div class="box-body table-responsive">
                    <table id="userTable" class="table table-striped" cellspacing="0">
                        <thead style=" background-color: #0099cc; color:white;">
                            <tr>
                                <th colspan="9" style="text-align: center;">
                                    Attendance Details
                                </th>
                            </tr>
                            <tr>
                                <th><input type="checkbox" name="checkProp" id="r4" onclick="checkAll()"> #</th>
                                <th width="15%">
                                    Date
                                </th>
                                <th width="15%">
                                    Day
                                </th>
                                <th width="10%">
                                    In Time
                                </th>
                                <th width="10%">
                                    Out Time
                                </th>
                                <th width="10%">
                                    In Status
                                </th>
                                <th width="10%">
                                    Out Status
                                </th>
                                <th width="10%">
                                    Shift
                                </th>
                                <th>
                                    Swipe Type
                                </th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr *ngFor="let item of empAttList; let i = index">
                                <td>{{i+1}}</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="overlay" *ngIf="isLoading">
                    <i class="fa fa-spinner fa-pulse"></i>
                </div>
                &nbsp;&nbsp;
                &nbsp;&nbsp;

                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group form-group-sm">
                            <label for="reason">Reason <span style="color: red;">*</span></label>
                            <textarea name="reason" id="reason" placeholder="Enter reason" class="form-control"
                                [(ngModel)]="filterreason" cols="30" rows="6" ngControl="filterreason"
                                required></textarea>
                        </div>
                    </div>
                </div>

                <div class = "row">
                    <div class="col-sm-12">
                        <div class="form-group form-group-sm">
                            <button class="btn btn-primary pull-right"
                                (click)="getEmpReq();" matTooltip="click to submit">Submit</button>
                            &nbsp;&nbsp;
                        </div>
                    </div>
                </div>
                
                &nbsp; &nbsp; &nbsp;
                <div class="row">
                    <table class="table table-striped table-bordered">
                        <tr style="background-color: #b2d1e5;">
                            <td colspan="5" style="width: 100%;">
                                <strong><b>Approver Details</b></strong>
                            </td>
                        </tr>
                        <tr style="background-color: #b2d1e5;">
                            <th style="width: 20%;"><b>HR ID</b></th>
                            <th style="width: 20%;"><b>Approver Name</b></th>
                            <th style="width: 30%;"><b>Department</b></th>
                            <th style="width: 30%;"><b>Designation</b></th>
                        </tr>
                        <tr *ngFor="let ty of ApproversList; let i = index">
                            <td>{{ty.hrId}}</td>
                            <td>{{ty.approverName}}</td>
                            <td>{{ty.department}}</td>
                            <td>{{ty.designation}}</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>