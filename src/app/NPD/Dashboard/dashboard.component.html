<section id="admin">
  <div class="container-fluid">
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
      <h1 class="h3 mb-0 text-gray-800">Dashboard</h1>
    </div>
    <div class="row mb-3">
      <div class="col-md-3">
        <div class="card-counter primary">
          <i class="fa fa-list-alt"></i>
          <span class="count-numbers">
            {{inprocess}}
          </span>
          <span class="count-name">In Process</span>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card-counter danger">
          <i class="fa fa-ban"></i>
          <span class="count-numbers">
            {{rejected}}
          </span>
          <span class="count-name">Rejected</span>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card-counter success">
          <i class="fa fa-user-check"></i>
          <span class="count-numbers">
            {{completed}}
          </span>
          <span class="count-name">Completed</span>
        </div>
      </div>
      <!-- <div class="col-md-3">
        <div class="card-counter info">
          <i class="fa fa-user-clock"></i>
          <span class="count-numbers">
            {{pendingCheckouts}}
          </span>
          <span class="count-name">Pending Checkout</span>
        </div>
      </div> -->
    </div>

    <!-- graphs -->
    <!-- <div class="row mb-3"> -->
      <!-- Area Chart -->
      <!-- <div class="col-sm-8 col-sm-5"> -->
      <!-- <div class="col-sm-4">
        <div class="card shadow">
          <div class="card-body">
            <div class="overlay" *ngIf="isLoading">
              <div class="justify-content-center align-items-center">
                <i class="fa fa-spinner fa-pulse"></i>
              </div>
            </div>
            <canvas id="linechart">

            </canvas>
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="card shadow">
          <div class="card-body">
            <div class="overlay" *ngIf="isLoading">
              <i class="fa fa-spinner fa-pulse"></i>
            </div>
            <canvas id="mixed-chart">
            </canvas>
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="card shadow">
          <div class="card-body">
            <div class="overlay" *ngIf="isLoading">
              <i class="fa fa-spinner fa-pulse"></i>
            </div>
            <canvas id="myPieChart">

            </canvas>
          </div>
        </div>
      </div>
    </div> -->



    <div class="row">
      <div class="col-sm-12 col-lg-12 col-md-12 col-xl-12">
        <div class="card shadow">

          <div class="card-body">
            <h3>NPD Report - Filter by dates
            </h3>


            <div class="row flex-fluid">
              <!-- <button class="btn btn-primary"  id="slide_button"  style="cursor: pointer;">
                    <i class="fa fa-calendar fa-sm text-white-50"> </i> Add Filter
                  </button> -->
              <div class="col-sm-12">

                <!-- <div class="col-lg-4"><input type="date" class="form-control" placeholder="From"  [(ngModel)]="from_date"/></div>
              <div class="col-lg-4"><input type="date" [disabled]="from_date==null||from_date==''" class="form-control" placeholder="To"  [(ngModel)]="to_date"></div>
              <div class="col-lg-4"><button class="btn btn-primary" (click)="dashboardRefresh();">Go</button></div> -->
                <div id="slide">
                  <div class="col-sm-3">
                    <!-- <input type="date" class="form-control" placeholder="From Date"  [(ngModel)]="from_date"/> -->
                    <div class="form-group" [ngClass]="(fromDate.touched && !fromDate.valid)?'has-error':''">
                      <label>From Date</label>
                      <input #fromDate="ngModel" [matTooltipPosition]="'below'" matTooltip="Click to change from date"
                        [owlDateTime]="dt1" [owlDateTimeTrigger]="dt1" name="fromDate" class="form-control"
                        [(ngModel)]="from_date" #fromDate="ngModel">
                      <owl-date-time [pickerType]="'calendar'" #dt1 style="width: 250px;"></owl-date-time>
                      <span class="help-block" *ngIf="!fromDate.valid && fromDate.touched">Please enter valid From
                        Date.</span>
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group" [ngClass]="(toDate.touched && !toDate.valid)?'has-error':''">
                      <label>To Date</label>
                      <!-- <input type="date" [disabled]="from_date==null||from_date==''" class="form-control" placeholder="To Date"  [(ngModel)]="to_date"> -->
                      <input #toDate="ngModel" [min]="from_date" [max]="today" [matTooltipPosition]="'below'"
                        matTooltip="Click to change to date" [owlDateTime]="dt2" [owlDateTimeTrigger]="dt2"
                        name="endDate" class="form-control" [(ngModel)]="to_date" #toDate="ngModel">
                      <owl-date-time [pickerType]="'calendar'" #dt2 style="width: 250px;"></owl-date-time>
                      <span class="help-block" *ngIf="!toDate.valid && toDate.touched">Please enter valid To
                        Date.</span>
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="fltrstatus">Status</label>
                      <select [(ngModel)]="filterstatus" class="form-control" id="fltrstatus" name="fltrstatus"
                        ngControl="filterstatus" #fltrstatusEnt="ngModel" matTooltip="Select Status">
                        <option [ngValue]="null" disabled>--Select an Option--</option>
                        <option *ngFor="let status of statuslist" value={{status.name}}>{{status.name}}</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <button class="btn btn-primary c-mt-2" (click)="clearFilter();"
                    >Clear</button>
                    &nbsp;&nbsp;
                    <button class="btn btn-primary c-mt-2" (click)="filterReport();"
                      [disabled]="(!toDate.valid && toDate.touched) || (!fromDate.valid && fromDate.touched)">Go</button>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="card" style="border: none; width: 100%">

                <div class="card-body">
                  <div class="col">
                    <div class="row flex-fluid p-2 ">
                      <button class="btn btn-primary float-right" (click)="exportAsXLSX();"
                        [disabled]="NPDRequestFilter.length<=0">
                        <i class="fa fa-download fa-sm text-white-50"></i> Export to excel</button>
                    </div>
                  </div>
                  <div class="table-responsive">
                    <table id="userTable" class="table table-striped table-bordered">
                      <thead style="background-color: #68a7d2;color:white;">
                        <tr>
                           
                            <th>Request No</th>
                            <th>Requested Date</th>
                            <th>Requested By</th>
                            <th>Division</th>
                            <th>Generic Name</th>
                            <th>Dosage</th>
                            <th>Composition</th>
                            <th>Brand Name</th>
                            <th>Final NPD Code</th>
                            <th>Status</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of NPDRequestFilter; let i = index">
                           
                            <td>{{item.requestNo}}</td>
                            <td>{{item.requestDate | date:'dd/MM/yyyy h:mm a'}}</td>
                            <td>{{item.requestedBy}}</td>
                            <td>{{item.division}}</td>
                            <td>{{item.genericName}}</td>
                            <td>{{item.dosageForm}}</td>
                            <td>{{item.composition}}</td>
                            <td>{{item.brandName}}</td>
                            <td>{{item.finalDocNo}}</td>
                            <td>{{item.apprvrStatus}}</td>
                            <td>
                              <button *ngIf="item.apprvrStatus=='Completed'" class="btn btn-primary" (click)="onUserActions(item)" matTooltip="click to export to PDF" 
                                     ><i class="fa fa-print"></i> Print</button>
                            </td>
                        </tr>
                    </tbody>
                    </table>

                  </div>

                </div>
              </div>

            </div>


          </div>
        </div>
      </div>
    </div>
  </div>

</section>
<div hidden id="pdf">
  <!-- <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td colspan="6" style="align-items: center;"><strong>Requester Details</strong>
        </td>
      </tr>
  </table>  -->
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      <!-- <thead> -->
          <tr>
              <td colspan="6" style="align-items: center;"><strong>Requester Details</strong>
              </td> 
          </tr>
          <tr >
              <th style="width: 10%;"><b>Employee Id</b></th>
              <th style="width: 30%;"><b>Name</b></th>
              <th style="width: 10%;"><b>Location</b></th>
              <th style="width: 10%;"><b>Division</b></th>                           
              <th style="width: 20%;"><b>Department</b></th>
              <th style="width: 20%;"><b>Designation</b></th>
          </tr>
      <!-- </thead>
      <tbody> -->
          <tr>                           
              <td>{{NPDRequestmodel.requestedBy}}</td>
              <td>{{NPDRequestmodel.fullName}}</td>
              <td>{{NPDRequestmodel.location}}</td>
              <td>{{NPDRequestmodel.division}}</td>
              <td>{{NPDRequestmodel.department}}</td>
              <td>{{NPDRequestmodel.designation}}</td>                      
          </tr>
      <!-- </tbody> -->
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <!-- | date:'dd/MM/yyyy h:mm a' -->
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
    &nbsp;
    <tr>
      <td colspan="4" style="align-items: center;"><strong>Product Details</strong>
      </td>
    </tr>
    <tr>
      <td>
        <label><strong>Request No:</strong></label>
      </td>
      <td>
          {{NPDRequestmodel.requestNo}}
        </td>
      <td>
        <label><strong>Generic Name</strong>:</label> 
      </td>
      <td>
          {{NPDRequestmodel.genericName}}
      </td>
    </tr>
    <tr>
      <td>
        <label><strong>Composition:</strong></label>
      </td>
      <td>
          {{NPDRequestmodel.composition}}
        </td>
      <td>
        <label><strong>Dosage Form</strong>:</label> 
      </td>
      <td>
          {{NPDRequestmodel.dosageForm}}
      </td>
    </tr>
    <tr>
      <td>
        <label><strong>Dosage Details(shape, size, Colour etc.):</strong></label>
      </td>
      <td>
          {{NPDRequestmodel.dosageDetails}}
        </td>
      <td>
        <label><strong>Proposed Brand Name</strong>:</label> 
      </td>
      <td>
          {{NPDRequestmodel.brandName}}
      </td>
    </tr>
    <tr>
      <td>
        <label><strong>Brand Search:</strong></label>
      </td>
      <td>
          {{NPDRequestmodel.brandSearch}}
        </td>
      <td>
        <label><strong> Proposed Packing (Strip, Blister, Alu Alu, Unims, PFS, 3 piece FFS 
          etc.):
           </strong>:</label> 
      </td>
      <td>
          {{NPDRequestmodel.proposedPacking}}
      </td>
    </tr>
    <tr>
      <td>
        <label><strong>Packing Configuration:</strong></label>
      </td>
      <td>
          {{NPDRequestmodel.packingConfig}}
        </td>
      <td>
        <label><strong>Sale Unit pack size
           </strong>:</label> 
      </td>
      <td>
          {{NPDRequestmodel.saleunitPackSize}}
      </td>
    </tr>
    <tr>
      <td>
        <label><strong>Sale Units per carton:</strong></label>
      </td>
      <td>
          {{NPDRequestmodel.saleunitPerCarton}}
        </td>
      <td>
        <label><strong>Sale Units per shipper
           </strong>:</label> 
      </td>
      <td>
          {{NPDRequestmodel.saleunitsPerShipper}}
      </td>
    </tr>
    <tr>
      <td>
        <label><strong>Physicians Sample pack:</strong></label>
      </td>
      <td>
          {{NPDRequestmodel.physicianSample}}
        </td>
      <td>
        <label><strong>Competitor Sample
           </strong>:</label> 
      </td>
      <td>
          {{NPDRequestmodel.compititorSample}}
      </td>
    </tr>
    <tr>
      <td>
        <label><strong>Any Specific Formulation Development Requirement:</strong></label>
      </td>
      <td>
          {{NPDRequestmodel.specificFormulationDevelopmentRequirement}}
        </td>
      <td>
        <label><strong>Launch Requirement(Units) SKU Wise
           </strong>:</label> 
      </td>
      <td>
          {{NPDRequestmodel.launchReq}}
      </td>
    </tr>
    <tr>
      <td>
        <label><strong>Sales Forecast (Units)SKU Wise:</strong></label>
      </td>
      <td>
          <label><strong>I Month:</strong></label> {{NPDRequestmodel.salesForecastUnitsMonth1}} <br>
          <label><strong>II Month:</strong></label> {{NPDRequestmodel.salesForecastUnitsMonth2}} <br>
          <label><strong>III Month:</strong></label> {{NPDRequestmodel.salesForecastUnitsMonth3}} <br>
        </td>
      <td>
          <label><strong>Qtr2 :</strong></label> {{NPDRequestmodel.salesForecastUnitsQtr2}} <br>
          <label><strong>Qtr3 :</strong></label> {{NPDRequestmodel.salesForecastUnitsQtr3}} <br>
          <label><strong>Qtr4 :</strong></label> {{NPDRequestmodel.salesForecastUnitsQtr4}} <br>
      </td>
      <td>
          <label><strong>Total Year 1:</strong></label> {{NPDRequestmodel.salesForecastUnitsYear1}} <br>
          <label><strong>Total Year 2:</strong></label> {{NPDRequestmodel.salesForecastUnitsYear2}} <br>
          <label><strong>Total Year 3:</strong></label> {{NPDRequestmodel.salesForecastUnitsYear3}} <br>
      </td>
    </tr>
    <tr>
      <td>
        <label><strong>Sales Forecast (Value)SKU Wise & Grand Total:</strong></label>
      </td>
      <td>
          <label><strong>Year 1:</strong></label> {{NPDRequestmodel.salesForecastValueYear1}} <br>
        </td>
      <td>
          <label><strong>Year 2:</strong></label> {{NPDRequestmodel.salesForecastValueYear2}} <br>
      </td>
      <td>
          <label><strong>Year 3:</strong></label> {{NPDRequestmodel.salesForecastValueYear3}} <br>
      </td>
    </tr>
    <tr>
      <td colspan="2">
        <label ><strong>Market Information (India):</strong></label>
      </td>
      <td  colspan="2">
           {{NPDRequestmodel.marketInfoIndia}} 
        </td>
     
    </tr>
    <tr>
      <td colspan="2">
        <label><strong>Competitor Brands:</strong></label>
      </td>
      <td>
          <label><strong>Total market for drug</strong></label> {{NPDRequestmodel.totalMarketDrug}} <br>
        </td>
      <td>
          <label><strong>Growth:</strong></label> {{NPDRequestmodel.growth}} <br>
      </td>
    
    </tr>
    <tr>
        <td colspan="4">
      <table class="table table-bordered table-striped" style="align-self: auto;; ">
      <thead>
          <tr>
              <th style="width: 25%;">Brands</th>
              <th style="width: 25%;">Sales(Rs ,Cr)</th>
              <th style="width: 25%;">Existing Market Share</th>
              <th style="width: 25%;">MRP /Unit</th>
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let per of dynamicArray; let rec=index">

              <td>{{per.competitorBrand}}</td>
              <td>{{per.competitorDetails}}</td>
              <td>{{per.competitorExistingmarketshare}}</td>
              <td>{{per.competitorMrp}}</td>                           
          </tr>
      </tbody>
  </table>
</td>
    </tr>
    <tr>
      <td colspan="2">
        <label><strong>Proposed Micro Price:</strong></label>
      </td>
      <td colspan="2">
           {{NPDRequestmodel.proposedmicroPrice}} <br>
        </td>                   
    
    </tr>
    <tr>
      <td>
        <label><strong> Expected Market Share by Micro:</strong></label>
      </td>
      <td>
          <label><strong>Year 1:</strong></label> {{NPDRequestmodel.expectedMarketShareYear1}} <br>
        </td>
      <td>
          <label><strong>Year 2:</strong></label> {{NPDRequestmodel.expectedMarketShareYear2}} <br>
      </td>
      <td>
          <label><strong>Year 3:</strong></label> {{NPDRequestmodel.expectedMarketShareYear3}} <br>
      </td>
    </tr>
    <tr>
      <td>
        <label><strong>Justification for Launch:</strong></label>
      </td>
      <td>
           {{NPDRequestmodel.justificationLaunch}}
        </td>
      <td>
          <label><strong>Attach Additional information if Required</strong></label> 
      </td>
      <td>
          {{NPDRequestmodel.additionalInformationIfRequired}} 
      </td>
    </tr>
    <tr>
      <td>
        <label><strong>  Market Information: (Global):</strong></label>
      </td>
      <td>
           {{NPDRequestmodel.marketInfoGlobal}} <br>
        </td>
      <td>
          <label><strong>Originator Brand Sales (Mn USD)Key Countries where 
              approved     :</strong></label> 
      </td>
      <td>
          {{NPDRequestmodel.originatorBrandSales}} 
      </td>
    </tr>
  </table>
  &nbsp;&nbsp;&nbsp;
  <!-- &nbsp;&nbsp;&nbsp;
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
     
  </table>  -->
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      <!-- <thead> -->
          <tr>
              <td colspan="9" style="align-items: center;"><strong>Marketing Department Head Initial Approval Details</strong>
              </td>
            </tr>
          <tr>
              <th style="width: 10%;"><b>Request No</b></th>                           
              <th style="width: 10%;"><b>Employee ID</b></th>
              <th style="width: 20%;"><b>Name</b></th>
              <th style="width: 5%;"><b>Stage</b></th>
              <th style="width: 10%;"><b>Role</b></th>
              <th style="width: 10%;"><b>Requested Date</b></th>
              <th style="width: 15%;"><b>Approved Date</b></th>
              <th style="width: 10%;"><b>Status</b></th>                            
              <th style="width: 10%;"><b>Comments</b></th>
          </tr>
      <!-- </thead>
      <tbody> -->
          <tr *ngFor="let user of transactionslistHODI; let i = index">
              <td>{{NPDRequestmodel.requestNo}}</td>                            
              <td>{{user.doneBy}}</td>
              <td>{{user.approverName}}</td>
              <td>{{user.approvalPriority}}</td>
              <td>{{user.role}}</td>                            
              <td>{{NPDRequestmodel.requestDate |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.doneOn |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.transactionType}}</td>                           
              <td>{{user.comments}}</td>
          </tr>
      <!-- </tbody> -->
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td colspan="4" style="align-items: center;width: 100%;"><strong>Review of MediServices</strong>
        </td>
      </tr>
      <tr>
          <td>
            <label><strong>Drug Rationale:</strong></label>
          </td>
          <td>
              {{NPDMedmodel.drugRationale}}
            </td>
          <td>
            <label><strong>Product Patent Expiry:</strong></label> 
          </td>
          <td>
              {{NPDMedmodel.productPatentExpiry}}
          </td>
        </tr>
        <tr>
          <td style="width: 25%;">
            <label><strong>DCGI Approval Details:</strong></label>{{NPDMedmodel.dcgiApprovalDetails}}
          </td>
          <td style="width: 25%;">
              <label><strong>Regulatory Approval Cost</strong>:</label>  {{NPDMedmodel.dcgiRegulatoryApprovalCost}} 
            </td>
          <td style="width: 25%;">
            <label><strong>Timeline for Approval</strong>:</label>  {{NPDMedmodel.dcgiTimelineForApproval}}
          </td>
          <td style="width: 25%;">
              <label><strong>Final Recommendation</strong>:</label>   {{NPDMedmodel.finalRecommendation}}
          </td>
        </tr>
      
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <!-- <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
     
  </table>  -->
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      <!-- <thead> -->
          <tr>
              <td colspan="9" style="align-items: center;"><strong>MediServices Head Approval Details</strong>
              </td>
            </tr>
          <tr>
              <th style="width: 10%;"><b>Request No</b></th>                           
              <th style="width: 10%;"><b>Employee ID</b></th>
              <th style="width: 20%;"><b>Name</b></th>
              <th style="width: 5%;"><b>Stage</b></th>
              <th style="width: 10%;"><b>Role</b></th>
              <th style="width: 10%;"><b>Requested Date</b></th>
              <th style="width: 15%;"><b>Approved Date</b></th>
              <th style="width: 10%;"><b>Status</b></th>                            
              <th style="width: 10%;"><b>Comments</b></th>
          </tr>
      <!-- </thead>
      <tbody> -->
          <tr *ngFor="let user of transactionslistMED; let i = index">
              <td>{{NPDRequestmodel.requestNo}}</td>                            
              <td>{{user.doneBy}}</td>
              <td>{{user.approverName}}</td>
              <td>{{user.approvalPriority}}</td>
              <td>{{user.role}}</td>                            
              <td>{{NPDRequestmodel.requestDate |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.doneOn |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.transactionType}}</td>                           
              <td>{{user.comments}}</td>
          </tr>
      <!-- </tbody> -->
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td style="width: 100%;"  ><strong>Review of IPR</strong>
        </td>
      </tr>
      <tr>
          <td  >
            <label><strong>Patent Status:</strong></label>{{NPDIprmodel.patentStatus}}
          </td>
          <!-- <td  >
              {{NPDIprmodel.patentStatus}}
            </td>
          -->
        </tr>
       
      
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <!-- <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td colspan="9" style="align-items: center;"><strong>IPR Head Approval Details</strong>
        </td>
      </tr>
  </table>  -->
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      <!-- <thead> -->
          <tr>
              <td colspan="9" style="align-items: center;"><strong>IPR Head Approval Details</strong>
              </td>
            </tr>
          <tr>
              <th style="width: 10%;"><b>Request No</b></th>                           
              <th style="width: 10%;"><b>Employee ID</b></th>
              <th style="width: 20%;"><b>Name</b></th>
              <th style="width: 5%;"><b>Stage</b></th>
              <th style="width: 10%;"><b>Role</b></th>
              <th style="width: 10%;"><b>Requested Date</b></th>
              <th style="width: 15%;"><b>Approved Date</b></th>
              <th style="width: 10%;"><b>Status</b></th>                            
              <th style="width: 10%;"><b>Comments</b></th>
          </tr>
      <!-- </thead>
      <tbody> -->
          <tr *ngFor="let user of transactionslistIPR; let i = index">
              <td>{{NPDRequestmodel.requestNo}}</td>                            
              <td>{{user.doneBy}}</td>
              <td>{{user.approverName}}</td>
              <td>{{user.approvalPriority}}</td>
              <td>{{user.role}}</td>                            
              <td>{{NPDRequestmodel.requestDate |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.doneOn |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.transactionType}}</td>                           
              <td>{{user.comments}}</td>
          </tr>
      <!-- </tbody> -->
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td colspan="4" style="align-items: center;"><strong>Review of CQA</strong>
        </td>
      </tr>
      <tr>
          <td colspan="2">
            <label><strong>Ceiling Price Status 
              VERIFICATION OF MRP (for 
              Schedule Formulation)(for Non Schedule Formulation):</strong></label>
          </td>
          <td colspan="2">
              {{NPDCqamodel.ceilingPrice}}
            </td>
         
        </tr>
        <tr>
          <td colspan="2">
            <label><strong>Ceiling Price Status 
              VERIFICATION OF MRP (for 
              Schedule Formulation)(for Non Schedule Formulation):</strong></label>
          </td>
          <td colspan="2">
              {{NPDCqamodel.ceilingPrice}}
            </td>
         
        </tr>
        <tr>
          <td colspan="2">
            <label><strong> Whether it is a new drug requiring DCG(I) Permission :</strong></label>
          </td>
          <td colspan="2">
              {{NPDCqamodel.whetherNewDrugRequiringDcgPermission}}
            </td>
         
        </tr>
        <tr>
          <td colspan="2">
            <label><strong> Whether covered under the list of Banned drugs by DCG(I) :</strong></label>
          </td>
          <td colspan="2">
              {{NPDCqamodel.whetherCoveredUnderBannedDrugDcg}}
            </td>
         
        </tr>  
        <tr>
          <td >
            <label><strong> Local FDA License :</strong></label>
          </td>
          <td >
              {{NPDCqamodel.localFdaLicense}}
            </td>
            <td>
              <label><strong>Timeline :</strong></label>
            </td>
            <td>
                {{NPDCqamodel.timeline}}
              </td>
        </tr>  
        <tr>
          <td >
            <label><strong>Remarks :</strong></label>
          </td>
          <td >
              {{NPDCqamodel.remarks}}
            </td>
            <td>
              <label><strong>NPD Reference No :</strong></label>
            </td>
            <td>
                {{NPDCqamodel.npdReferenceNo}}
              </td>
        </tr> 
        <tr>
          <td >
            <label><strong>Trade & PS Artwork Print out for approval 
              :</strong></label>
          </td>
          <td >
              {{NPDCqamodel.tradePsArtworkPrintApproval}}
            </td>
            <td>
              <label><strong>Actual sample of Trade & PS 
                  Carton. (Manufactured)
                   :</strong></label>
            </td>
            <td>
                {{NPDCqamodel.actualSampleTradePsCarton}}
              </td>
        </tr>  
        <tr>
          <td >
            <label><strong>Reference No Given By:
              :</strong></label>
          </td>
          <td >
              {{NPDCqamodel.referenceNoGivenBy}}
            </td>
            <td>
              <label><strong>Date
                   :</strong></label>
            </td>
            <td>
                {{NPDCqamodel.referenceDate}}
              </td>
        </tr> 
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <!-- <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td colspan="9" style="align-items: center;"><strong>CQA Department Head Approval Details</strong>
        </td>
      </tr>
  </table>  -->
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      <!-- <thead> -->
          <tr>
              <td colspan="9" style="align-items: center;"><strong>CQA Department Head Approval Details</strong>
              </td>
            </tr>
          <tr>
              <th style="width: 10%;"><b>Request No</b></th>                           
              <th style="width: 10%;"><b>Employee ID</b></th>
              <th style="width: 20%;"><b>Name</b></th>
              <th style="width: 5%;"><b>Stage</b></th>
              <th style="width: 10%;"><b>Role</b></th>
              <th style="width: 10%;"><b>Requested Date</b></th>
              <th style="width: 15%;"><b>Approved Date</b></th>
              <th style="width: 10%;"><b>Status</b></th>                            
              <th style="width: 10%;"><b>Comments</b></th>
          </tr>
      <!-- </thead>
      <tbody> -->
          <tr *ngFor="let user of transactionslistCQA; let i = index">
              <td>{{NPDRequestmodel.requestNo}}</td>                            
              <td>{{user.doneBy}}</td>
              <td>{{user.approverName}}</td>
              <td>{{user.approvalPriority}}</td>
              <td>{{user.role}}</td>                            
              <td>{{NPDRequestmodel.requestDate |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.doneOn |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.transactionType}}</td>                           
              <td>{{user.comments}}</td>
          </tr>
      <!-- </tbody> -->
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td colspan="4" style="align-items: center;"><strong>Review of Supply Chain</strong>
        </td>
      </tr>
      <tr>
          <td colspan="2">
            <label><strong>Manufacturing Location if In-house A.Timeline for commercialisation:</strong></label>
          </td>
          <td colspan="2">
              {{NPDScmmodel.timelineDevelopmentCommercialisation}}
            </td>
         
        </tr>
        <tr>
          <td colspan="2">
            <label><strong>Recommended Outsourced 3rd Party location:</strong></label>
          </td>
          <td colspan="2">
              {{NPDScmmodel.recommendedOutsourcedThirdPartyLocation}}
            </td>
         
        </tr>
        <tr>
          <td colspan="2" >
            <label><strong> Third Party Licensing Status:</strong></label>
          </td>
          <td >
              <label><strong> DCGI Approval Status </strong></label>
            </td>
            <td >
              {{NPDScmmodel.dcgiApprovalStatus}}
            </td>
        </tr>
        <tr>
          <td >
            <label><strong> Local State Drug License :</strong></label>
          </td>
          <td >
              {{NPDScmmodel.localStateDrugLicense}}
            </td>
            <td>
              <label><strong>Timeline for development & 
                  commercialisation 
                   :</strong></label>
            </td>
            <td>
                {{NPDScmmodel.timelineDevelopmentCommercialisation}}
              </td>
        </tr>  
        <tr>
          <td colspan="2">
            <label><strong> Pre Negotiated Transfer Price :</strong></label>
          </td>
          <td colspan="2">
              {{NPDScmmodel.preNegotiatedTransferPrice}}
            </td>
         
        </tr>  
       
     
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <!-- <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td colspan="9" style="align-items: center;"><strong>Supply Chain Approval Details</strong>
        </td>
      </tr>
  </table>  -->
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      <!-- <thead> -->
          <tr>
              <td colspan="9" style="align-items: center;"><strong>Supply Chain Approval Details</strong>
              </td>
            </tr>
          <tr>
              <th style="width: 10%;"><b>Request No</b></th>                           
              <th style="width: 10%;"><b>Employee ID</b></th>
              <th style="width: 20%;"><b>Name</b></th>
              <th style="width: 5%;"><b>Stage</b></th>
              <th style="width: 10%;"><b>Role</b></th>
              <th style="width: 10%;"><b>Requested Date</b></th>
              <th style="width: 15%;"><b>Approved Date</b></th>
              <th style="width: 10%;"><b>Status</b></th>                            
              <th style="width: 10%;"><b>Comments</b></th>
          </tr>
      <!-- </thead>
      <tbody> -->
          <tr *ngFor="let user of transactionslistSCM; let i = index">
              <td>{{NPDRequestmodel.requestNo}}</td>                            
              <td>{{user.doneBy}}</td>
              <td>{{user.approverName}}</td>
              <td>{{user.approvalPriority}}</td>
              <td>{{user.role}}</td>                            
              <td>{{NPDRequestmodel.requestDate |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.doneOn |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.transactionType}}</td>                           
              <td>{{user.comments}}</td>
          </tr>
      <!-- </tbody> -->
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td colspan="4" style="align-items: center;"><strong>Review of Research and Development</strong>
        </td>
      </tr>
      <tr>
          <td colspan="2">
            <label><strong>API source availability?If Not available, then API 
              procurement timeline? 
              API Quantity for 1st year Launch
              :</strong></label>
          </td>
          <td colspan="2">
              {{NPDRndmodel.apiSourceAvailability}}
            </td>
         
        </tr>
        <tr>
            <td colspan="4"><strong>Total cost of the project </strong></td>
        </tr>
        <tr>
          <td >
            <label><strong>Development Cost:</strong></label>
          </td>
          <td >
              {{NPDRndmodel.developmentCost}}
            </td>
            <td >
              <label><strong>Any Special Equipment Costt:</strong></label>
            </td>
            <td >
                {{NPDRndmodel.specialEquipmentCost}}
              </td>
        </tr>
        <tr>
          <td >
              <label><strong> Total Time line for Completion of Project 
              </strong></label>
            </td>
            <td >
              {{NPDRndmodel.totalTimlineCompleteProject}}
            </td>
          <td >
              <label><strong>Suggested Plant for 
                  Commercialisation
                   </strong></label>
            </td>
            <td >
              {{NPDRndmodel.suggestedPlantCommercialisation}}
            </td>
        </tr>
       
       
     
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <!-- <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td colspan="9" style="align-items: center;"><strong>RND HOD Approval Details</strong>
        </td>
      </tr>
  </table>  -->
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      <!-- <thead> -->
          <tr>
              <td colspan="9" style="align-items: center;"><strong>RND HOD Approval Details</strong>
              </td>
            </tr>
          <tr>
              <th style="width: 10%;"><b>Request No</b></th>                           
              <th style="width: 10%;"><b>Employee ID</b></th>
              <th style="width: 20%;"><b>Name</b></th>
              <th style="width: 5%;"><b>Stage</b></th>
              <th style="width: 10%;"><b>Role</b></th>
              <th style="width: 10%;"><b>Requested Date</b></th>
              <th style="width: 15%;"><b>Approved Date</b></th>
              <th style="width: 10%;"><b>Status</b></th>                            
              <th style="width: 10%;"><b>Comments</b></th>
          </tr>
      <!-- </thead>
      <tbody> -->
          <tr *ngFor="let user of transactionslistRND; let i = index">
              <td>{{NPDRequestmodel.requestNo}}</td>                            
              <td>{{user.doneBy}}</td>
              <td>{{user.approverName}}</td>
              <td>{{user.approvalPriority}}</td>
              <td>{{user.role}}</td>                            
              <td>{{NPDRequestmodel.requestDate |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.doneOn |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.transactionType}}</td>                           
              <td>{{user.comments}}</td>
          </tr>
      <!-- </tbody> -->
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td colspan="4" style="align-items: center;"><strong>Review of Strategic Marketing</strong>
        </td>
      </tr>                  
        <tr>
          <td style="width: 25%;">
              <label><strong> Overall Strategic fit 
              </strong></label>
            </td>
            <td style="width: 25%;">
              {{NPDStrategicmodel.overallStrategicFit}}
            </td>
          <td style="width: 25%;">
              <label><strong>Comments on In-licensing if applicable
                   </strong></label>
            </td>
            <td style="width: 25%;">
              {{NPDStrategicmodel.commentsInlicensingApplicable}}
            </td>
        </tr>
       
       
     
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <!-- <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td colspan="9" style="align-items: center;"><strong>Strategic Marketing HOD Approval Details</strong>
        </td>
      </tr>
  </table>  -->
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      <!-- <thead> -->
          <tr>
              <td colspan="9" style="align-items: center;"><strong>Strategic Marketing HOD Approval Details</strong>
              </td>
            </tr>
          <tr>
              <th style="width: 10%;"><b>Request No</b></th>                           
              <th style="width: 10%;"><b>Employee ID</b></th>
              <th style="width: 20%;"><b>Name</b></th>
              <th style="width: 5%;"><b>Stage</b></th>
              <th style="width: 10%;"><b>Role</b></th>
              <th style="width: 10%;"><b>Requested Date</b></th>
              <th style="width: 15%;"><b>Approved Date</b></th>
              <th style="width: 10%;"><b>Status</b></th>                            
              <th style="width: 10%;"><b>Comments</b></th>
          </tr>
      <!-- </thead>
      <tbody> -->
          <tr *ngFor="let user of transactionslistSM; let i = index">
              <td>{{NPDRequestmodel.requestNo}}</td>                            
              <td>{{user.doneBy}}</td>
              <td>{{user.approverName}}</td>
              <td>{{user.approvalPriority}}</td>
              <td>{{user.role}}</td>                            
              <td>{{NPDRequestmodel.requestDate |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.doneOn |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.transactionType}}</td>                           
              <td>{{user.comments}}</td>
          </tr>
      <!-- </tbody> -->
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td  style="width: 100%;"><strong>Review of Distribution</strong>
        </td>
      </tr>                  
        <tr>
          <td  >
              <label><strong> Remarks of Distribution :</strong></label> {{NPDDistmodel.remarksDistribution}}
            </td>
            <!-- <td >
              {{NPDDistmodel.remarksDistribution}}
            </td> -->
         
        </tr>
       
       
     
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <!-- <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td colspan="9" style="align-items: center;"><strong>Distribution HOD Approval Details</strong>
        </td>
      </tr>
  </table>  -->
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      <!-- <thead> -->
          <tr>
              <td colspan="9" style="align-items: center;"><strong>Distribution HOD Approval Details</strong>
              </td>
            </tr>
          <tr>
              <th style="width: 10%;"><b>Request No</b></th>                           
              <th style="width: 10%;"><b>Employee ID</b></th>
              <th style="width: 20%;"><b>Name</b></th>
              <th style="width: 5%;"><b>Stage</b></th>
              <th style="width: 10%;"><b>Role</b></th>
              <th style="width: 10%;"><b>Requested Date</b></th>
              <th style="width: 15%;"><b>Approved Date</b></th>
              <th style="width: 10%;"><b>Status</b></th>                            
              <th style="width: 10%;"><b>Comments</b></th>
          </tr>
      <!-- </thead>
      <tbody> -->
          <tr *ngFor="let user of transactionslistDIST; let i = index">
              <td>{{NPDRequestmodel.requestNo}}</td>                            
              <td>{{user.doneBy}}</td>
              <td>{{user.approverName}}</td>
              <td>{{user.approvalPriority}}</td>
              <td>{{user.role}}</td>                            
              <td>{{NPDRequestmodel.requestDate |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.doneOn |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.transactionType}}</td>                           
              <td>{{user.comments}}</td>
          </tr>
      <!-- </tbody> -->
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td colspan="4" style="align-items: center;"><strong>Final Recommendation By NPD Initiator HOD</strong>
        </td>
      </tr>                  
        <tr>
          <td style="width: 25%;">
              <label><strong> Total Development time including Regulatory + CQA + R&D + Manufacturing 

              </strong></label>
            </td>
            <td style="width: 25%;">
              {{NPDHodmodel.totaldevelopmenttime}}
            </td>
          <td style="width: 25%;">
              <label><strong>Drug Development Cost (R&D)
                   </strong></label>
            </td>
            <td style="width: 25%;">
              {{NPDHodmodel.drugdevelopmentcost}}
            </td>
        </tr>
        <tr>
          <td >
              <label><strong> Equipment cost (R&D) 
              </strong></label>
            </td>
            <td >
              {{NPDHodmodel.equipmentcost}}
            </td>
          <td >
              <label><strong>Regulatory approval cost (Regulatory)
                   </strong></label>
            </td>
            <td >
              {{NPDHodmodel.regulatoryapprovalcost}}
            </td>
        </tr>
        <tr>
          <td >
              <label><strong> CQA Cost 
              </strong></label>
            </td>
            <td >
              {{NPDHodmodel.cqacost}}
            </td>
          <td >
              <label><strong>Total Grand Cost
                   </strong></label>
            </td>
            <td >
              {{NPDHodmodel.totalgrandcost}}
            </td>
        </tr>
       
     
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <!-- <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td colspan="9" style="align-items: center;"><strong>HOD Final Stage Approval Details</strong>
        </td>
      </tr>
  </table>  -->
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      <!-- <thead> -->
          <tr>
              <td colspan="9" style="align-items: center;"><strong>HOD Final Stage Approval Details</strong>
              </td>
            </tr>
          <tr>
              <th style="width: 10%;"><b>Request No</b></th>                           
              <th style="width: 10%;"><b>Employee ID</b></th>
              <th style="width: 20%;"><b>Name</b></th>
              <th style="width: 5%;"><b>Stage</b></th>
              <th style="width: 10%;"><b>Role</b></th>
              <th style="width: 10%;"><b>Requested Date</b></th>
              <th style="width: 15%;"><b>Approved Date</b></th>
              <th style="width: 10%;"><b>Status</b></th>                            
              <th style="width: 10%;"><b>Comments</b></th>
          </tr>
      <!-- </thead>
      <tbody> -->
          <tr *ngFor="let user of transactionslistHODF; let i = index">
              <td>{{NPDRequestmodel.requestNo}}</td>                            
              <td>{{user.doneBy}}</td>
              <td>{{user.approverName}}</td>
              <td>{{user.approvalPriority}}</td>
              <td>{{user.role}}</td>                            
              <td>{{NPDRequestmodel.requestDate |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.doneOn |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.transactionType}}</td>                           
              <td>{{user.comments}}</td>
          </tr>
      <!-- </tbody> -->
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td colspan="4" style="align-items: center;"><strong>Review of CMD</strong>
        </td>
      </tr>                  
        <tr>
          <td style="width: 25%;">
              <label><strong> Remarks of CMD

              </strong></label>
            </td>
            <td style="width: 25%;">
              {{NPDCmdmodel.remarksCmd}}
            </td>
          <td style="width: 25%;">
              <label><strong>Final Doc_No:
                   </strong></label>{{NPDRequestmodel.finalDocNo}}
            </td>
            <td style="width: 25%;" >
              <label><strong>Final Doc Date:
                   </strong></label>{{NPDRequestmodel.finalDocDate |date:'dd/MM/yyyy'}}
            </td>
        </tr>
      
       
     
  </table>
  &nbsp;&nbsp;&nbsp;
  &nbsp;&nbsp;&nbsp;
  <!-- <table class="table table-bordered table-striped" style="align-self: auto;; ">
      &nbsp;
      <tr>
        <td colspan="9" style="align-items: center;"><strong>CMD Approval Details</strong>
        </td>
      </tr>
  </table>  -->
  <table class="table table-bordered table-striped" style="align-self: auto;; ">
      <!-- <thead> -->
          <tr>
              <td colspan="9" style="align-items: center;"><strong>CMD Approval Details</strong>
              </td>
            </tr>
          <tr>
              <th style="width: 10%;"><b>Request No</b></th>                           
              <th style="width: 10%;"><b>Employee ID</b></th>
              <th style="width: 20%;"><b>Name</b></th>
              <th style="width: 5%;"><b>Stage</b></th>
              <th style="width: 10%;"><b>Role</b></th>
              <th style="width: 10%;"><b>Requested Date</b></th>
              <th style="width: 15%;"><b>Approved Date</b></th>
              <th style="width: 10%;"><b>Status</b></th>                            
              <th style="width: 10%;"><b>Comments</b></th>
          </tr>
      <!-- </thead>
      <tbody> -->
          <tr *ngFor="let user of transactionslistCMD; let i = index">
              <td>{{NPDRequestmodel.requestNo}}</td>                            
              <td>{{user.doneBy}}</td>
              <td>{{user.approverName}}</td>
              <td>{{user.approvalPriority}}</td>
              <td>{{user.role}}</td>                            
              <td>{{NPDRequestmodel.requestDate |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.doneOn |date:'dd/MM/yyyy h:mm a'}}</td>
              <td>{{user.transactionType}}</td>                           
              <td>{{user.comments}}</td>
          </tr>
      <!-- </tbody> -->
  </table>
</div>
