<section class="content-header">
  <h1 class="display-1">
    Customer Master
    <small>Creation</small>
  </h1>
  <ol class="breadcrumb">
    <li><a href="#"><i class="fa fa-database" aria-hidden="true"></i> Home</a></li>
    <li class="active">Customer Master Creation</li>
  </ol>
</section>
<!-- Main content -->
<section class="content">
  <div class="box">
    <div class="box-header my-3">
      <div class="col-xs-6">
        <h3 class="box-title">Customer Master Creation</h3>
        <span class="label label-danger" *ngIf="errMsg.length>0">{{errMsg}}</span>
      </div>
      <div class="col-xs-6">
        <button type="button" class="btn btn-primary pull-right" (click)="onClickNewRequest()"><i class="fa fa-plus"
            aria-hidden="true"></i> New Request</button>
      </div>
    </div>
    <div id="dateFilterPanel">
      <div class="col-sm-12">
        <div class="row">
          <div class="col-sm-3">
            <div class="form-group form-group-sm">
              <label for="requestno"> Request Number</label>
              <input [(ngModel)]="filterrequest" class="form-control" id="requestno" placeholder="Request Number"
                name="requestno" ngControl="filterrequest" #requestnoEnt="ngModel">
            </div>
          </div>
          <div class="col-sm-3">
            <div class="form-group form-group-sm">
              <label for="place"> Place</label>
              <input [(ngModel)]="filterplace" class="form-control" id="place" placeholder="Place" name="place"
                ngControl="filterplace" #placeEnt="ngModel">
            </div>
          </div>
          <div class="col-sm-3">
            <div class="form-group form-group-sm">
              <label for="fltrstatus">Status</label>
              <select [(ngModel)]="filterstatus" class="form-control" id="fltrstatus" name="fltrstatus"
                ngControl="filterstatus" #fltrstatusEnt="ngModel" matTooltip="Select Status">
                <option [ngValue]="null" disabled>--Select an Option--</option>
                <option *ngFor="let status of statuslist" value={{status.name}}>{{status.name}}</option>
              </select>
            </div>
          </div>
          <div class="col-sm-3">
            <div class="form-group form-group-sm">
              <label for="fltrlocation">Location</label>
              <select [(ngModel)]="filterlocation" class="form-control" id="fltrlocation" name="fltrlocation"
                ngControl="filterlocation" #fltrlocationEnt="ngModel" matTooltip="Select Location">
                <option [ngValue]="null" disabled>--Select an Option--</option>
                <option *ngFor="let loc of locationList" value={{loc.id}}>{{loc.code}}-{{loc.name}}</option>
              </select>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-3">
            <label>From Date</label>
            <!-- <input type="date" class="form-control" placeholder="From Date"  [(ngModel)]="ItemCodeExtensionModel.from_date"/> -->
            <div class="form-group form-group-sm" [ngClass]="(fromDate.touched && !fromDate.valid)?'has-error':''">
              <div class="input-group date">
                <input [matTooltipPosition]="'below'" matTooltip="Click to change from date" [owlDateTime]="dt11"
                  [owlDateTimeTrigger]="dt11" [max]="today" name="fromDate" class="form-control" [(ngModel)]="from_date"
                  #fromDate="ngModel">
                <span class="input-group-addon trigger"><i class="fas fa-calendar-alt"></i></span>
              </div>
              <owl-date-time [pickerType]="'calendar'" #dt11 style="width: 250px;"></owl-date-time>
              <span class="help-block" *ngIf="!fromDate.valid && fromDate.touched">Please enter valid From
                Date.</span>
            </div>
          </div>
          <div class="col-sm-3">
            <label>To Date</label>
            <div class="form-group form-group-sm" [ngClass]="(toDate.touched && !toDate.valid)?'has-error':''">
              <!-- <input type="date" [disabled]="from_date==null||from_date==''" class="form-control" placeholder="To Date"  [(ngModel)]="ItemCodeExtensionModel.to_date"> -->
              <div class="input-group date">
                <input [min]="from_date" [max]="today" [matTooltipPosition]="'below'" matTooltip="Click to change to date"
                  [owlDateTime]="dt12" [owlDateTimeTrigger]="dt12" name="endDate" class="form-control"
                  [(ngModel)]="to_date" #toDate="ngModel">
                <span class="input-group-addon trigger"><i class="fas fa-calendar-alt"></i></span>
              </div>
              <owl-date-time [pickerType]="'calendar'" #dt12 style="width: 250px;"></owl-date-time>
              <span class="help-block" *ngIf="!toDate.valid && toDate.touched">Please enter valid To
                Date.</span>
            </div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-sm-12 center-contents">
            <div class="form-group form-group-sm">
              <button class="btn btn-primary btn-sm mr-3" (click)="getAllEntries();"
                [disabled]="(!toDate.valid && toDate.touched) || (!fromDate.valid && fromDate.touched) || isLoading"
                matTooltip="click to go">
                <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading}"></i><span *ngIf="isLoading">&nbsp;</span>Go
              </button>
              <button class="btn btn-info btn-sm" (click)="clearFilter();" matTooltip="click to reset">Clear</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-12 mt-3">
      <div class="row">
        <div class="col-xs-6">
          <label for="label">Click to Download template for Multiple Requests</label>
          <a class="button" title="Excel" href='../assets/dist/img/CustomerMasterTemplate.xlsx'
            download="CustomerMasterTemplate.xlsx"><br>
            <button> Download</button><br>
          </a>
        </div>
        <div class="col-xs-6">
          <label> Choose the File to upload:</label><br>
          <div class="row">
            <div class="col-sm-6">
              <input #myInput type="file" id="file" name="file" (change)="uploadfiles($event.target.files)" />

            </div>
            <div class="col-sm-3">
              <input type="button" class="btn btn-primary" (click)="upload()" value="Upload" />
            </div>
          </div>
        </div>
        <div class="col-sm-12 mt-3">
          <div class="form-group form-group-sm">
            <button type="button" class="btn btn-primary mr-3" (click)="bulkApprove('Approve')"
              matTooltip="Click to Submit" [disabled]="!checkedRequestList.length>0" >Approve</button>
            <button type="button" class="btn btn-primary" (click)="bulkApprove('Rejected')"
              matTooltip="Click to Reject" [disabled]="!checkedRequestList.length>0">Reject</button>
          </div>
        </div>
      </div>
    </div>
    <!-- /.box-header -->
    <div class="box-body table-responsive">
      <table id="userTable" class="table table-bordered table-striped">
        <thead style="background-color: #68a7d2;color:white;">
          <tr>
            <th></th>
            <th>Request Number</th>
            <th>Request Date</th>
            <th>Customer Name</th>
            <th>Place</th>
            <th>Customer Type</th>
            <th>Requested By</th>
            <th>Approve Status</th>
            <th>Last Approver</th>
            <th>Pending Approver</th>
            <th>Submit for Approval</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of CustomerMasterFilter; let i = index">
            <td>
              <input *ngIf="item.pendingApprover == currentUser.employeeId" type="checkbox" [id]="'chkusage'+item.id"
                [name]="'send'+item.id" [(ngModel)]="item.isSelected" (change)="isAllSelected()" #usageEnt="ngModel">
            </td>
            <td>{{item.requestNo}}</td>
            <td>{{item.requestDate | date:'dd/MM/yyyy HH:mm'}}</td>
            <td>{{item.name}}</td>
            <td>{{item.city}}</td>
            <td>{{item.customerType}}</td>
            <td>{{item.requestedBy}}</td>
            <td>{{item.approveStatus}}</td>
            <td>{{item.lastApprover}}</td>
            <td>{{item.pendingApprover}}</td>
            <td>
              <button
                *ngIf="item.approveStatus =='Created'|| item.approveStatus =='Reverted to initiator' && item.createdBy==this.currentUser.employeeId"
                type="button" [matTooltipPosition]="'after'" matTooltip="Click to Submit" class="btn btn-primary btn-xs"
                (click)="onSubmitEntry(item)">
                <i class="fas fa-check"></i>
              </button>
            </td>
            <td>
              <table>
                <tr>
                  <td>
                    <button
                      *ngIf="item.approveStatus =='Created' || item.approveStatus =='Reverted to initiator'&& item.createdBy==this.currentUser.employeeId"
                      type="button" [matTooltipPosition]="'after'" matTooltip="Click to edit details"
                      class="btn btn-primary btn-xs" (click)="onUserActions(false,item,false,'')">
                      <i class="fas fa-edit"></i>
                    </button>
                  </td>
                  &nbsp;
                  <td *ngIf="item.approveStatus !='Created' && item.approveStatus !='Reverted to initiator'">
                    <button *ngIf="item.pendingApprover==currentUser.fullName || item.approver1 ==userid ||  item.approver2 ==userid || 
                      item.approver3 ==userid ||  item.approver4 ==userid " type="button"
                      [matTooltipPosition]="'after'" matTooltip="Click to edit details" class="btn btn-primary btn-xs"
                      (click)="onUserActions(true,item,false,'')">
                      <i class="fas fa-edit"></i>
                    </button>
                  </td>
                  <!-- &nbsp;
                  <td>
                    <button
                      *ngIf="item.modifiedBy==null && item.approveStatus =='Created'|| item.approveStatus =='Reverted to initiator' && item.createdBy==this.currentUser.employeeId"
                      type="button" [matTooltipPosition]="'after'" matTooltip="Click to edit details"
                      class="btn btn-primary btn-xs" (click)="onUserActions(false,item,false,'')">
                      <i class="fas fa-edit"></i>
                    </button>
                  </td> -->
                  &nbsp;
                  <td>
                    <button type="button" [matTooltipPosition]="'after'" matTooltip="Click to view details"
                      class="btn btn-primary btn-xs" (click)="onUserActions(true,item,false,'View')">
                      <i class="fas fa-eye"></i>
                    </button>
                  </td>
                  &nbsp;
                  <td>
                    <button type="button" [matTooltipPosition]="'after'" matTooltip="Click to Copy Data"
                      class="btn btn-primary btn-xs" (click)="onUserActions(false,item,false,'Copy')">
                      <i class="fa fa-copy"></i>
                    </button>
                  </td>
                  &nbsp;
                  <td>
                    <button type="button" [matTooltipPosition]="'after'" matTooltip="Click to print"
                      class="btn btn-primary btn-xs" (click)="showprintmodel(item)">
                      <i class="fas fa-print"></i>
                    </button>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <!-- /.box-body -->
    <!-- <div class="overlay" *ngIf="isLoading">
      <i class="fa fa-spinner fa-pulse"></i>
    </div> -->
  </div>
</section>

<div class="modal fade" id="saveModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
  data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-md  modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h3 class="modal-title" style="color: #0FB381; text-align: center;"><span class="text pull-center"
            *ngIf="errMsgPop1.length>0"><i class="fa fa-check"></i>{{errMsgPop1}}</span></h3>
      </div>
    </div>
  </div>
  <div class="overlay" *ngIf="isLoading">
    <i class="fa fa-spinner fa-pulse"></i>
  </div>
</div>
<div class="modal fade" id="searchModal" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true"
  data-backdrop="static" data-keyboard="false">

  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header" style="background-color: #68a7d2;color:white">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h3 class="modal-title">Customer Master Code Search
        </h3>
      </div>
      <div class="modal-body box-primary" style="box-shadow: none;">
        <div class="row">
          <div class="col-sm-12">
            <form #searchForm="ngForm" (keydown.enter)="$event.preventDefault()">
              <div class="row">
                <div class="col-sm-4">
                  <div class="form-group form-group-sm">
                    <label for="name">Name<span style="color:red">*</span></label>
                    <input [(ngModel)]="CustomerMastermodel.name" class="form-control" id="name1" placeholder="Name"
                      (input)="CustomerMastermodel.name=$event.target.value.toUpperCase()" name="name1"
                      ngControl="CustomerMastermodel.name" #nameEnt="ngModel" required>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group form-group-sm">
                    <label for="city">City<span style="color:red">*</span></label>
                    <input [(ngModel)]="CustomerMastermodel.city" class="form-control" id="city1" placeholder="City"
                      (input)="CustomerMastermodel.city=$event.target.value.toUpperCase()" name="city1"
                      ngControl="CustomerMastermodel.city" #cityEnt="ngModel" required>
                  </div>
                </div>
                <div class="col-sm-4">
                  <div class="form-group form-group-sm">
                    <label for="countryId">Country</label>
                    <select [(ngModel)]="CustomerMastermodel.countryId" class="form-control" id="Country" name="Country"
                      ngControl="CustomerMastermodel.countryId" #CountryEnt="ngModel" [disabled]="isEdit"
                      matTooltip="Select Country">
                      <option [ngValue]="undefined">--Select an Option--</option>
                      <option *ngFor="let mat of countrylist" value={{mat.land1}}>{{mat.land1}}-{{mat.landx}}
                      </option>
                    </select>
                  </div>
                </div>
              </div>
              &nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;
              <div class="row">
                <div class="col-sm-4 pull-center">
                  <label>&nbsp;</label>
                  <div class="form-group form-group-sm">
                    <button *ngIf="continue" class="btn btn-primary btn-sm"
                      (click)="onUserActions(false,CustomerMastermodel,false,'');" matTooltip="Click to Continue"
                      [disabled]="!searchForm.valid" data-dismiss="modal">
                      Continue to Create</button>
                    &nbsp;&nbsp;
                    <button class="btn btn-primary btn-sm" [disabled]="!searchForm.valid" (click)="getSearchResult();"
                      matTooltip="Click to Search">search</button>
                  </div>
                </div>
              </div>
              &nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;
              <div class="row">
                <div class="col-sm-12">
                  <div class="table-responsive">
                    <table id="userTable" class="table table-striped">
                      <thead style="background-color: #68a7d2; color:white;">
                        <tr>
                          <th>Name</th>
                          <th>City</th>
                          <th>Type</th>
                          <th>SAP Code No</th>
                          <th>CREATED ON</th>
                          <th>REQUESTED ON</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let item of CustomerMastersearchlist; let i = index">
                          <td>{{item.name}}</td>
                          <td>{{item.city}}</td>
                          <td>{{item.customerType}}</td>
                          <td>{{item.sapCodeNo}}</td>
                          <td>{{item.sapCreationDate | date:'dd/MM/yyyy HH:mm'}}</td>
                          <td>{{item.requestDate | date:'dd/MM/yyyy HH:mm'}}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <div class="overlay" *ngIf="isLoadingPop">
            <i class="fa fa-spinner fa-pulse"></i>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <span class="text-red pull-left" *ngIf="errMsgPop.length>0"><i class="fa fa-warning"></i>{{errMsgPop}}</span>
        <button type="button" class="btn btn-default" style="background-color:darkgray;color:white;"
          data-dismiss="modal" [disabled]="isLoadingPop" matTooltip="Click to close modal">Close</button>
      </div>
      <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
  </div>
</div>
<div class="modal fade" id="myModal" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
  data-backdrop="static" data-keyboard="false">

  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header" style="background-color: #68a7d2;color:white">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h3 class="modal-title">Customer Master Form
        </h3>
      </div>
      <div class="modal-body box-primary" style="box-shadow: none;">
        <div class="row">
          <div class="col-sm-12">
            <form #dataForm="ngForm" (keydown.enter)="$event.preventDefault()">

              <div class="box">
                <div class="box-header" style="background-color: #b6cedf; height: 35px;">
                  <div class="col-xs-6">
                    <h3 class="box-title">General Information</h3>
                  </div>
                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;
                <div class="row">

                  <div class="col-sm-4" *ngIf="isEdit">
                    <div class="form-group form-group-sm">
                      <label for="requestdate"> Request Date</label>
                      <input name="requestdate" id="requestdate" placeholder="Request Date" class="form-control"
                        value="{{CustomerMastermodel.requestDate | date:'dd/MM/yyyy'}}" readonly>
                    </div>
                  </div>
                  <div class="col-sm-4" *ngIf="!isEdit">
                    <div class="form-group form-group-sm">
                      <label for="requestdate"> Request Date</label>
                      <input name="requestdate" id="requestdate" placeholder="Request Date" class="form-control"
                        value="{{requestdate | date:'dd/MM/yyyy'}}" readonly>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="form-group"
                      [ngClass]="((CustomerMastermodel.accountGroupId==null || CustomerMastermodel.accountGroupId=='' || CustomerMastermodel.accountGroupId==undefined)  && !notFirst)?'has-error':''">
                      <label for="accountGroupId">
                        Account Group <span style="color:red">*</span>
                      </label><br>
                      <ng-select [items]="AccGroupList" (blur)="checkAccountGroup();" bindLabel="accountGroupName"
                        required name="accountGroupId" bindValue="accountGroupId" [multiple]="false"
                        [virtualScroll]="true" placeholder="Select Account Group"
                        [(ngModel)]="CustomerMastermodel.accountGroupId" [disabled]="isEdit">
                        <ng-option *ngFor="let loc of AccGroupList" value={{loc.accountGroupId}}>
                          {{loc.accountGroupId}}-{{loc.accountGroupName}}
                        </ng-option>
                      </ng-select>
                      <span class="help-block"
                        *ngIf="(CustomerMastermodel.accountGroupId==null || CustomerMastermodel.accountGroupId=='' || CustomerMastermodel.accountGroupId==undefined) && !notFirst">Please
                        Select Account Group</span>
                    </div>
                  </div>
                  <!-- <div class="col-sm-4">
                    <div class="form-group form-group-sm"
                      [ngClass]="(!accountGroupIdEnt.valid && accountGroupIdEnt.touched)?'has-error':''">
                      <label for="accountGroupId">Account Group<span style="color:red">*</span></label>
                      <select [(ngModel)]="CustomerMastermodel.accountGroupId" class="form-control" id="accountGroupId"
                        name="accountGroupId" ngControl="CustomerMastermodel.accountGroupId"
                        #accountGroupIdEnt="ngModel" [disabled]="isEdit" matTooltip="Select accountGroup" required>
                        <option [ngValue]="undefined" disabled>--Select an Option--</option>
                        <option *ngFor="let loc of AccGroupList" value={{loc.accountGroupId}}>
                          {{loc.accountGroupId}}-{{loc.accountGroupName}}</option>
                      </select>
                      <span class="help-block" *ngIf="!accountGroupIdEnt.valid && accountGroupIdEnt.touched">Please
                        select
                        accountGroupId</span>
                    </div>
                  </div> -->
                  <div class="col-sm-4">
                    <div class="form-group form-group-sm">
                      <label for="viewType">View Type</label>
                      <div class="row">
                        <mat-radio-group aria-label="Select option?" id="viewType" name="viewType"
                          [(ngModel)]="CustomerMastermodel.viewType" [disabled]="isEdit"
                          ngControl="CustomerMastermodel.viewType" #viewTypeEnt="ngModel">
                          <mat-radio-button value='S'>Sales</mat-radio-button>
                          &nbsp;&nbsp;&nbsp;
                          <mat-radio-button value='A'>Accounts</mat-radio-button>
                        </mat-radio-group>
                      </div>
                    </div>
                  </div>
                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;
                <div class="row">
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="customerType">Customer Type<span style="color:red">*</span></label>
                      <div class="row">
                        <mat-radio-group aria-label="Select option?" id="customerType" name="customerType"
                          [(ngModel)]="CustomerMastermodel.customerType"
                          (change)="getApproversList(CustomerMastermodel)" ngControl="CustomerMastermodel.customerType"
                          #customerTypeEnt="ngModel" [disabled]="isEdit" required>
                          <mat-radio-button value='Domestic'>Domestic</mat-radio-button>
                          &nbsp;&nbsp;&nbsp;
                          <mat-radio-button value='Exports'>Exports</mat-radio-button>
                        </mat-radio-group>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="cutomerCode">Employee Code</label>
                      <input [(ngModel)]="CustomerMastermodel.cutomerCode" class="form-control" id="cutomerCode"
                        placeholder="Employee Code" name="cutomerCode" [disabled]="isEdit"
                        ngControl="CustomerMastermodel.cutomerCode" #cutomerCodeEnt="ngModel">
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group form-group-sm">
                      <label for="name">Name<span style="color:red">*</span></label>
                      <input [(ngModel)]="CustomerMastermodel.name" class="form-control" id="name" placeholder="Name"
                        name="name" (input)="CustomerMastermodel.name=$event.target.value.toUpperCase()"
                        ngControl="CustomerMastermodel.name" #nameEnt="ngModel" [disabled]="isEdit" required>
                    </div>
                  </div>
                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;
                <div class="row">
                  <div class="col-sm-6">
                    <div class="form-group form-group-sm">
                      <label for="address1">Address1<span style="color:red">*</span></label>
                      <input [(ngModel)]="CustomerMastermodel.address1" class="form-control" id="address1"
                        placeholder="Address" name="address1" [disabled]="isEdit"
                        ngControl="CustomerMastermodel.address1" #address1Ent="ngModel" required>
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group form-group-sm">
                      <label for="address2">Address2</label>
                      <input [(ngModel)]="CustomerMastermodel.address2" class="form-control" id="address2"
                        placeholder="Address" name="address2" [disabled]="isEdit"
                        ngControl="CustomerMastermodel.address2" #address2Ent="ngModel">
                    </div>
                  </div>
                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;
                <div class="row">
                  <div class="col-sm-6">
                    <div class="form-group form-group-sm">
                      <label for="address3">Address3</label>
                      <input [(ngModel)]="CustomerMastermodel.address3" class="form-control" id="address3"
                        placeholder="Address" name="address3" [disabled]="isEdit"
                        ngControl="CustomerMastermodel.address3" #address3Ent="ngModel">
                    </div>
                  </div>
                  <div class="col-sm-6">
                    <div class="form-group form-group-sm">
                      <label for="address4">Address4</label>
                      <input [(ngModel)]="CustomerMastermodel.address4" class="form-control" id="address4"
                        placeholder="Address" name="address4" [disabled]="isEdit"
                        ngControl="CustomerMastermodel.address4" #address4Ent="ngModel">
                    </div>
                  </div>

                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;
                <div class="row">
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="city">City</label>
                      <input [(ngModel)]="CustomerMastermodel.city" class="form-control" id="city" placeholder="City"
                        name="city" (input)="CustomerMastermodel.city=$event.target.value.toUpperCase()"
                        [disabled]="isEdit" ngControl="CustomerMastermodel.city" #cityEnt="ngModel">
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="pincode">Pin Code</label>
                      <input [(ngModel)]="CustomerMastermodel.pincode" class="form-control" id="pincode"
                        placeholder="Pin Code" name="pincode" [disabled]="isEdit"
                        ngControl="CustomerMastermodel.pincode" #pincodeEnt="ngModel">
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group"
                      [ngClass]="((CustomerMastermodel.countryId==null || CustomerMastermodel.countryId=='' || CustomerMastermodel.countryId==undefined)  && !notFirst)?'has-error':''">
                      <label for="accountGroupId">
                        Country <span style="color:red">*</span>
                      </label><br>
                      <ng-select [items]="countrylist" (blur)="checkCountry();" bindLabel="landx" required
                        name="Country" bindValue="land1" [multiple]="false" [virtualScroll]="true"
                        (change)="getstatelist(CustomerMastermodel.countryId)" placeholder="Select Country"
                        [(ngModel)]="CustomerMastermodel.countryId" [disabled]="isEdit">
                        <ng-option *ngFor="let mat of countrylist" value={{mat.land1}}>{{mat.land1}}-{{mat.landx}}
                        </ng-option>
                      </ng-select>
                      <span class="help-block"
                        *ngIf="(CustomerMastermodel.countryId==null || CustomerMastermodel.countryId=='' || CustomerMastermodel.countryId==undefined) && !notFirst">Please
                        Select Country</span>
                    </div>
                  </div>
                  <!-- <div class="col-sm-3">
                    <div class="form-group form-group-sm"
                      [ngClass]="(!CountryEnt.valid && CountryEnt.touched)?'has-error':''">
                      <label for="Country">Country<span style="color:red">*</span></label>
                      <select [(ngModel)]="CustomerMastermodel.countryId" class="form-control" id="Country"
                        name="Country" ngControl="CustomerMastermodel.countryId" #CountryEnt="ngModel"
                        [disabled]="isEdit" matTooltip="Select Country"
                        (change)="getstatelist(CustomerMastermodel.countryId)">
                        <option [ngValue]="undefined" disabled>--Select an Option--</option>
                        <option *ngFor="let mat of countrylist" value={{mat.land1}}>{{mat.land1}}-{{mat.landx}}
                        </option>
                      </select>
                      <span class="help-block" *ngIf="!CountryEnt.valid && CountryEnt.touched">Please
                        select Country</span>
                    </div>
                  </div> -->
                  <div class="col-sm-3">
                    <div class="form-group"
                      [ngClass]="((CustomerMastermodel.state==null || CustomerMastermodel.state=='' || CustomerMastermodel.state==undefined)  && !notFirst)?'has-error':''">
                      <label for="state">
                        State <span style="color:red">*</span>
                      </label><br>
                      <ng-select [items]="stateList1" (blur)="checkState();" bindLabel="bezei" required name="state"
                        bindValue="id" [multiple]="false" [virtualScroll]="true" placeholder="Select State"
                        [(ngModel)]="CustomerMastermodel.state" [disabled]="isEdit">
                        <ng-option *ngFor="let item of stateList1" value={{item.id}}>
                          {{item.id}} - {{item.bezei}}
                        </ng-option>
                      </ng-select>
                      <span class="help-block"
                        *ngIf="(CustomerMastermodel.state==null || CustomerMastermodel.state=='' || CustomerMastermodel.state==undefined) && !notFirst">Please
                        Select State</span>
                    </div>
                  </div>
                  <!-- <div class="col-sm-3">
                    <div class="form-group form-group-sm"
                      [ngClass]="(!stateEnt.valid && stateEnt.touched)?'has-error':''">
                      <label for="state">State<span style="color:red">*</span></label>
                      <select [(ngModel)]="CustomerMastermodel.state" class="form-control" id="state" name="state"
                        ngControl="CustomerMastermodel.state" #stateEnt="ngModel" [disabled]="isEdit"
                        matTooltip="Select state" required>
                        <option [ngValue]="undefined" disabled>--Select an Option--</option>
                        <option *ngFor="let item of stateList1" value={{item.id}}>
                          {{item.bezei}}</option>
                      </select>
                      <span class="help-block" *ngIf="!stateEnt.valid && stateEnt.touched">Please select
                        state</span>
                    </div>
                  </div> -->
                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;
                <div class="row">
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="landlineNo">LandLine</label>
                      <input [(ngModel)]="CustomerMastermodel.landlineNo" class="form-control" id="landlineNo"
                        placeholder="LandLine" name="landlineNo" [disabled]="isEdit"
                        ngControl="CustomerMastermodel.landlineNo" #landlineNoEnt="ngModel">
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="mobileNo">Mobile</label>
                      <input [(ngModel)]="CustomerMastermodel.mobileNo" class="form-control" id="mobileNo"
                        placeholder="Mobile" name="mobileNo" ngControl="CustomerMastermodel.mobileNo"
                        #mobileNoEnt="ngModel" [disabled]="isEdit">
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="emailId">Email</label>
                      <input [(ngModel)]="CustomerMastermodel.emailId" class="form-control" id="emailId"
                        placeholder="Email ID" name="emailId" [disabled]="isEdit"
                        ngControl="CustomerMastermodel.emailId" #emailIdEnt="ngModel">
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="faxNo">Fax</label>
                      <input [(ngModel)]="CustomerMastermodel.faxNo" class="form-control" id="faxNo"
                        placeholder="Fax No" name="faxNo" ngControl="CustomerMastermodel.faxNo" #faxNoEnt="ngModel"
                        [disabled]="isEdit">
                    </div>
                  </div>
                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;


              </div>
              &nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;
              <div class="box">
                <div class="box-header" style="background-color: #b6cedf; height: 35px;">
                  <div class="col-xs-6">
                    <h3 class="box-title">Sales</h3>
                  </div>
                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;
                <div class="row">
                  <div class="col-sm-3">
                    <div class="form-group"
                      [ngClass]="((CustomerMastermodel.customerGroup==null || CustomerMastermodel.customerGroup=='' || CustomerMastermodel.customerGroup==undefined)  && !notFirst)?'has-error':''">
                      <label for="customerGroup">
                        Customer Group <span style="color:red">*</span>
                      </label><br>
                      <ng-select [items]="CustomerGroupList" (blur)="checkState();" bindLabel="cGroupName" required
                        name="customerGroup" bindValue="cGroupId" [multiple]="false" [virtualScroll]="true"
                        placeholder="Select Customer Group" [(ngModel)]="CustomerMastermodel.customerGroup" [disabled]="isEdit">
                        <ng-option *ngFor="let mat of CustomerGroupList" value={{mat.cGroupId}}>
                          {{mat.cGroupId}} - {{mat.cGroupName}}
                        </ng-option>
                      </ng-select>
                      <span class="help-block"
                        *ngIf="(CustomerMastermodel.customerGroup==null || CustomerMastermodel.customerGroup=='' || CustomerMastermodel.customerGroup==undefined) && !notFirst">Please
                        Select Customer Group</span>
                    </div>
                  </div>
                  <!-- <div class="col-sm-3">
                    <div class="form-group form-group-sm"
                      [ngClass]="(!customerGroupEnt.valid && customerGroupEnt.touched)?'has-error':''">
                      <label for="customerGroup">Customer Group<span style="color:red">*</span></label>
                      <select [(ngModel)]="CustomerMastermodel.customerGroup" class="form-control" id="customerGroup"
                        name="customerGroup" ngControl="CustomerMastermodel.customerGroup" #customerGroupEnt="ngModel"
                        [disabled]="isEdit" matTooltip="Select customerGroup" required>
                        <option [ngValue]="undefined" disabled>--Select an Option--</option>
                        <option *ngFor="let mat of CustomerGroupList" value={{mat.cGroupId}}>
                          {{mat.cGroupId}}-{{mat.cGroupName}}</option>
                      </select>
                      <span class="help-block" *ngIf="!customerGroupEnt.valid && customerGroupEnt.touched">Please select
                        Material
                        Group</span>
                    </div>
                  </div> -->
                  <div class="col-sm-3">
                    <div class="form-group"
                      [ngClass]="((CustomerMastermodel.priceGroup==null || CustomerMastermodel.priceGroup=='' || CustomerMastermodel.priceGroup==undefined)  && !notFirst)?'has-error':''">
                      <label for="priceGroup">
                        Price Group <span style="color:red">*</span>
                      </label><br>
                      <ng-select [items]="pricegrouplist" (blur)="checkPriceGroup();" bindLabel="pGroupName" required
                        name="priceGroup" bindValue="pGroupId" [multiple]="false" [virtualScroll]="true"
                        placeholder="Select priceGroup" [(ngModel)]="CustomerMastermodel.priceGroup" [disabled]="isEdit">
                        <ng-option *ngFor="let Group of pricegrouplist" value={{Group.pGroupId}}>
                          {{Group.pGroupId}} - {{Group.pGroupName}}
                        </ng-option>
                      </ng-select>
                      <span class="help-block"
                        *ngIf="(CustomerMastermodel.priceGroup==null || CustomerMastermodel.priceGroup=='' || CustomerMastermodel.priceGroup==undefined) && !notFirst">Please
                        Select Price Group</span>
                    </div>
                  </div>
                  <!-- <div class="col-sm-3">
                    <div class="form-group form-group-sm"
                      [ngClass]="(!priceGroupEnt.valid && priceGroupEnt.touched)?'has-error':''">
                      <label for="priceGroup">Price Group<span style="color:red">*</span></label>
                      <select [(ngModel)]="CustomerMastermodel.priceGroup" class="form-control" id="priceGroup"
                        name="priceGroup" ngControl="CustomerMastermodel.priceGroup" #priceGroupEnt="ngModel"
                         [disabled]="isEdit" matTooltip="Select priceGroup" required>
                        <option [ngValue]="undefined" disabled>--Select an Option--</option>
                        <option *ngFor="let Group of pricegrouplist" value={{Group.pGroupId}}>
                          {{Group.pGroupId}}-{{Group.pGroupName}}</option>
                      </select>
                      <span class="help-block" *ngIf="!priceGroupEnt.valid && priceGroupEnt.touched">Please select
                        priceGroup</span>
                    </div>
                  </div> -->

                  <div class="col-sm-3">
                    <div class="form-group"
                      [ngClass]="((CustomerMastermodel.priceList==null || CustomerMastermodel.priceList=='' || CustomerMastermodel.priceList==undefined)  && !notFirst)?'has-error':''">
                      <label for="priceList">
                        Price List <span style="color:red">*</span>
                      </label><br>
                      <ng-select [items]="pricelist" (blur)="checkPriceList();" bindLabel="pListName" required
                        name="priceList" bindValue="pListId" [multiple]="false" [virtualScroll]="true"
                        placeholder="Select priceList" [(ngModel)]="CustomerMastermodel.priceList" [disabled]="isEdit">
                        <ng-option *ngFor="let mat of pricelist" value={{mat.pListId}}>
                          {{mat.pListId}} - {{mat.pListName}}
                        </ng-option>
                      </ng-select>
                      <span class="help-block"
                        *ngIf="(CustomerMastermodel.priceList==null || CustomerMastermodel.priceList=='' || CustomerMastermodel.priceList==undefined) && !notFirst">Please
                        Select Price List</span>
                    </div>
                  </div>
                  <!-- <div class="col-sm-3">
                    <div class="form-group form-group-sm"
                      [ngClass]="(!priceListEnt.valid && priceListEnt.touched)?'has-error':''">
                      <label for="priceList">Price List<span style="color:red">*</span></label>
                      <select [(ngModel)]="CustomerMastermodel.priceList" class="form-control" id="priceList"
                        name="priceList" ngControl="CustomerMastermodel.priceList" #priceListEnt="ngModel"
                        [disabled]="isEdit" matTooltip="Select priceList" required>
                        <option [ngValue]="undefined" disabled>--Select an Option--</option>
                        <option *ngFor="let mat of pricelist" value={{mat.pListId}}>
                          {{mat.pListId}}-{{mat.pListName}}</option>
                      </select>
                      <span class="help-block" *ngIf="!priceListEnt.valid && priceListEnt.touched">Please select
                        Material
                        Group</span>
                    </div>
                  </div> -->
                  <div class="col-sm-3">
                    <div class="form-group"
                      [ngClass]="((CustomerMastermodel.taxType==null || CustomerMastermodel.taxType=='' || CustomerMastermodel.taxType==undefined)  && !notFirst)?'has-error':''">
                      <label for="taxType">
                        Tax Type <span style="color:red">*</span>
                      </label><br>
                      <ng-select [items]="taxclassList" (blur)="checkTaxType();" bindLabel="tClassName" required
                        name="taxType" bindValue="tClassId" [multiple]="false" [virtualScroll]="true"
                        placeholder="Select Tax Type" [(ngModel)]="CustomerMastermodel.taxType" [disabled]="isEdit">
                        <ng-option *ngFor="let item of taxclassList" value={{item.tClassId}}>
                          {{item.tClassId}} - {{item.tClassName}}
                        </ng-option>
                      </ng-select>
                      <span class="help-block"
                        *ngIf="(CustomerMastermodel.taxType==null || CustomerMastermodel.taxType=='' || CustomerMastermodel.taxType==undefined) && !notFirst">Please
                        Select Tax Type</span>
                    </div>
                  </div>
                  <!-- <div class="col-sm-3">
                    <div class="form-group form-group-sm"
                      [ngClass]="(!taxTypeEnt.valid && taxTypeEnt.touched)?'has-error':''">
                      <label for="taxType">Tax Type<span style="color:red">*</span></label>
                      <select [(ngModel)]="CustomerMastermodel.taxType" class="form-control" id="taxType" name="taxType"
                        ngControl="CustomerMastermodel.taxType" #taxTypeEnt="ngModel" [disabled]="isEdit"
                        matTooltip="Select taxType" required>
                        <option [ngValue]="undefined" disabled>--Select an Option--</option>
                        <option *ngFor="let item of taxclassList" value={{item.tClassId}}>
                          {{item.tClassId}}-{{item.tClassName}}</option>
                      </select>
                      <span class="help-block" *ngIf="!taxTypeEnt.valid && taxTypeEnt.touched">Please select
                        taxType</span>
                    </div>
                  </div> -->
                </div>
                <div class="row">
                  <div class="col-sm-3">
                    <div class="form-group"
                      [ngClass]="((CustomerMastermodel.currencyId==null || CustomerMastermodel.currencyId=='' || CustomerMastermodel.currencyId==undefined)  && !notFirst)?'has-error':''">
                      <label for="currencyId">
                        Currency <span style="color:red">*</span>
                      </label><br>
                      <ng-select [items]="currencyList" (blur)="checkCurrency();" bindLabel="isocd" required
                        name="currencyId" bindValue="waers" [multiple]="false" [virtualScroll]="true"
                        placeholder="Select Currency" [(ngModel)]="CustomerMastermodel.currencyId" [disabled]="isEdit">
                        <ng-option *ngFor="let mat of currencyList" value={{mat.waers}}>
                          {{mat.waers}} - {{mat.isocd}}
                        </ng-option>
                      </ng-select>
                      <span class="help-block"
                        *ngIf="(CustomerMastermodel.currencyId==null || CustomerMastermodel.currencyId=='' || CustomerMastermodel.currencyId==undefined) && !notFirst">Please
                        Select Currency</span>
                    </div>
                  </div>
                  <!-- <div class="col-sm-3">
                    <div class="form-group form-group-sm"
                      [ngClass]="(!currencyIdEnt.valid && currencyIdEnt.touched)?'has-error':''">
                      <label for="currencyId">Currency</label>
                      <select [(ngModel)]="CustomerMastermodel.currencyId" class="form-control" id="currencyId"
                        name="currencyId" ngControl="CustomerMastermodel.currencyId" #currencyIdEnt="ngModel"
                        [disabled]="isEdit" matTooltip="Select currencyId">
                        <option [ngValue]="undefined" disabled>--Select an Option--</option>
                        <option *ngFor="let mat of currencyList" value={{mat.waers}}>
                          {{mat.waers}}-{{mat.isocd}}</option>
                      </select>
                      <span class="help-block" *ngIf="!currencyIdEnt.valid && currencyIdEnt.touched">Please select
                        Material
                        Group</span>
                    </div>
                  </div> -->
                  <div class="col-sm-3">
                    <div class="form-group"
                      [ngClass]="((CustomerMastermodel.paymentTermId==null || CustomerMastermodel.paymentTermId=='' || CustomerMastermodel.paymentTermId==undefined)  && !notFirst)?'has-error':''">
                      <label for="paymentTermId">
                        Payment Term <span style="color:red">*</span>
                      </label><br>
                      <ng-select [items]="PaymentTermList" (blur)="checkPaymentTerm();" bindLabel="paymentTermName"
                        required name="paymentTermId" bindValue="paymentTermId" [multiple]="false"
                        [virtualScroll]="true" placeholder="Select Payment Term"
                        [(ngModel)]="CustomerMastermodel.paymentTermId" [disabled]="isEdit">
                        <ng-option *ngFor="let id of PaymentTermList" value="{{id.paymentTermId}}">
                          {{id.paymentTermId}} - {{id.paymentTermName}}
                        </ng-option>
                      </ng-select>
                      <span class="help-block"
                        *ngIf="(CustomerMastermodel.paymentTermId==null || CustomerMastermodel.paymentTermId=='' || CustomerMastermodel.paymentTermId==undefined) && !notFirst">Please
                        Select Payment Term</span>
                    </div>
                  </div>
                  <!-- <div class="col-sm-3">
                    <div class="form-group form-group-sm"
                      [ngClass]="(!paymentTermIdEnt.valid && paymentTermIdEnt.touched)?'has-error':''">
                      <label for="paymentTermId">Payment Term</label>
                      <select [(ngModel)]="CustomerMastermodel.paymentTermId" class="form-control" id="paymentTermId"
                        name="paymentTermId" ngControl="CustomerMastermodel.paymentTermId" #paymentTermIdEnt="ngModel"
                        [disabled]="isEdit" matTooltip="Select paymentTermId">
                        <option [ngValue]="undefined" disabled>--Select an Option--</option>
                        <option *ngFor="let id of PaymentTermList" value="{{id.paymentTermId}}">
                          {{id.paymentTermId}}-{{id.paymentTermName}}</option>
                      </select>
                      <span class="help-block" *ngIf="!paymentTermIdEnt.valid && paymentTermIdEnt.touched">Please select
                        paymentTermId</span>
                    </div>
                  </div> -->
                  <div class="col-sm-3">
                    <div class="form-group"
                      [ngClass]="((CustomerMastermodel.accountClerkId==null || CustomerMastermodel.accountClerkId=='' || CustomerMastermodel.accountClerkId==undefined)  && !notFirst)?'has-error':''">
                      <label for="accountClerkId">
                        Account Clerk <span style="color:red">*</span>
                      </label><br>
                      <ng-select [items]="AccClerckList" (blur)="checkAccountClerk();" bindLabel="accClerkDesc" required
                        name="accountClerkId" bindValue="accClerkId" [multiple]="false" [virtualScroll]="true"
                        placeholder="Select Accouont Clerk" [(ngModel)]="CustomerMastermodel.accountClerkId" [disabled]="isEdit">
                        <ng-option *ngFor="let mat of AccClerckList" value="{{mat.accClerkId}}">
                          {{mat.accClerkId}} - {{mat.accClerkDesc}}
                        </ng-option>
                      </ng-select>
                      <span class="help-block"
                        *ngIf="(CustomerMastermodel.accountClerkId==null || CustomerMastermodel.accountClerkId=='' || CustomerMastermodel.accountClerkId==undefined) && !notFirst">Please
                        Select Account Clerk</span>
                    </div>
                  </div>
                  <!-- <div class="col-sm-3">
                    <div class="form-group form-group-sm"
                      [ngClass]="(!accountClerkIdEnt.valid && accountClerkIdEnt.touched)?'has-error':''">
                      <label for="accountClerkId">Account Clerk</label>
                      <select [(ngModel)]="CustomerMastermodel.accountClerkId" class="form-control" id="accountClerkId"
                        name="accountClerkId" ngControl="CustomerMastermodel.accountClerkId"
                        #accountClerkIdEnt="ngModel" [disabled]="isEdit" matTooltip="Select accountClerkId">
                        <option [ngValue]="undefined" disabled>--Select an Option--</option>
                        <option *ngFor="let mat of AccClerckList" value="{{mat.accClerkId}}">
                          {{mat.accClerkId}}-{{mat.accClerkDesc}}</option>
                      </select>
                      <span class="help-block" *ngIf="!accountClerkIdEnt.valid && accountClerkIdEnt.touched">Please
                        select accountClerk</span>
                    </div>
                  </div> -->

                </div>
              </div>
              &nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;
              <div class="box">
                <div class="box-header" style="background-color: #b6cedf; height: 35px;">
                  <div class="col-xs-6">
                    <h3 class="box-title">Excise/Tax</h3>
                  </div>
                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;
                <div class="row">
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm"
                      [ngClass]="(!tdseligibleEnt.valid && tdseligibleEnt.touched)?'has-error':''">
                      <label for="tdseligible">Is Eligible for TDS<span style="color:red">*</span></label>
                      <select [(ngModel)]="CustomerMastermodel.isEligibleForTDS" class="form-control" id="tdseligible" name="tdseligible"
                        ngControl="tdseligible" #tdseligibleEnt="ngModel" [disabled]="isEdit"
                        matTooltip="Select tdseligible" required>
                        <option [ngValue]="undefined" disabled>--Select an Option--</option>
                        <option value=true>Yes</option>
                        <option value=false>NO</option>
                      </select>
                      <span class="help-block" *ngIf="!tdseligibleEnt.valid && tdseligibleEnt.touched">Please select
                        Material
                        Group</span>
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group"
                      [ngClass]="((CustomerMastermodel.tdsCode==null || CustomerMastermodel.tdsCode=='' || CustomerMastermodel.tdsCode==undefined)  && !notFirst)?'has-error':''">
                      <label for="tdsCode">
                        TDS Code <span style="color:red">*</span>
                      </label><br>
                      <ng-select [items]="TdsSectionList" (blur)="checkTDSCode();" bindLabel="tdsSectionDesc" required
                        name="tdsCode" bindValue="tdsSectionId" [multiple]="false" [virtualScroll]="true"
                        placeholder="Select TDS Code" [(ngModel)]="CustomerMastermodel.tdsCode" [disabled]="isEdit">
                        <ng-option *ngFor="let Group of TdsSectionList" value={{Group.tdsSectionId}}>
                          {{Group.tdsSectionId}} - {{Group.tdsSectionDesc}}
                        </ng-option>
                      </ng-select>
                      <span class="help-block"
                        *ngIf="(CustomerMastermodel.tdsCode==null || CustomerMastermodel.tdsCode=='' || CustomerMastermodel.tdsCode==undefined) && !notFirst">Please
                        Select TDS Code</span>
                    </div>
                  </div>
                  <!-- <div class="col-sm-3">
                    <div class="form-group form-group-sm"
                      [ngClass]="(!tdsCodeEnt.valid && tdsCodeEnt.touched)?'has-error':''">
                      <label for="tdsCode">TDS Code<span style="color:red" *ngIf="tdseligible ==true">*</span></label>
                      <select [(ngModel)]="CustomerMastermodel.tdsCode" class="form-control" id="tdsCode" name="tdsCode"
                        ngControl="CustomerMastermodel.tdsCode" #tdsCodeEnt="ngModel" [disabled]="isEdit"
                        matTooltip="Select tdsCode" [required]="tdseligible ==true">
                        <option [ngValue]="undefined" disabled>--Select an Option--</option>
                        <option *ngFor="let Group of TdsSectionList" value={{Group.tdsSectionId}}>
                          {{Group.tdsSectionId}}-{{Group.tdsSectionDesc}}</option>
                      </select>
                      <span class="help-block" *ngIf="!tdsCodeEnt.valid && tdsCodeEnt.touched">Please select
                        tdsCode</span>
                    </div>
                  </div> -->
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="gstinNumber">GSTIN Number<span style="color:red">*</span></label>
                      <input [(ngModel)]="CustomerMastermodel.gstinNumber" class="form-control" id="gstinNumber"
                        placeholder="GSTIN Number" name="gstinNumber" [disabled]="isEdit"
                        ngControl="CustomerMastermodel.gstinNumber" #gstinNumberEnt="ngModel" required>
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="lstNo">LST No</label>
                      <input [(ngModel)]="CustomerMastermodel.lstNo" class="form-control" id="lstNo"
                        placeholder="LST No" name="lstNo" ngControl="CustomerMastermodel.lstNo" #lstNoEnt="ngModel"
                        [disabled]="isEdit">
                    </div>
                  </div>
                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;
                <div class="row">
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="tinNo">TIN No</label>
                      <input [(ngModel)]="CustomerMastermodel.tinNo" class="form-control" id="tinNo"
                        placeholder="TIN No" name="tinNo" ngControl="CustomerMastermodel.tinNo" #tinNoEnt="ngModel"
                        [disabled]="isEdit">
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="cstNo">CST No</label>
                      <input [(ngModel)]="CustomerMastermodel.cstNo" class="form-control" id="cstNo"
                        placeholder="CST No" name="cstNo" ngControl="CustomerMastermodel.cstNo" #cstNoEnt="ngModel"
                        [disabled]="isEdit">
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="panNo">PAN No</label>
                      <input [(ngModel)]="CustomerMastermodel.panNo" class="form-control" id="panNo"
                        placeholder="PAN No" name="panNo" ngControl="CustomerMastermodel.panNo" #panNoEnt="ngModel"
                        [disabled]="isEdit">
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="serviceTaxRegistrationNo">Service Tax Reg. No</label>
                      <input [(ngModel)]="CustomerMastermodel.serviceTaxRegistrationNo" class="form-control"
                        id="serviceTaxRegistrationNo" placeholder="Service Tax Reg. No" name="serviceTaxRegistrationNo"
                        ngControl="CustomerMastermodel.serviceTaxRegistrationNo" #serviceTaxRegistrationNoEnt="ngModel"
                        [disabled]="isEdit">
                    </div>
                  </div>
                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;
                <div class="row">
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm"
                      [ngClass]="(!isRegdExciseCustomerEnt.valid && isRegdExciseCustomerEnt.touched)?'has-error':''">
                      <label for="isRegdExciseCustomer">Is Reg.Excise Customer<span style="color:red">*</span></label>
                      <select [(ngModel)]="CustomerMastermodel.isRegdExciseCustomer" class="form-control"
                        id="isRegdExciseCustomer" name="isRegdExciseCustomer"
                        ngControl="CustomerMastermodel.isRegdExciseCustomer" #isRegdExciseCustomerEnt="ngModel"
                        [disabled]="isEdit" matTooltip="Select isRegdExciseCustomer" required>
                        <option [ngValue]="undefined" disabled>--Select an Option--</option>
                        <option value=true>Yes</option>
                        <option value=false>NO</option>
                      </select>
                      <span class="help-block"
                        *ngIf="!isRegdExciseCustomerEnt.valid && isRegdExciseCustomerEnt.touched">Please select Material
                        Group</span>
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="eccNo">ECC No</label>
                      <input [(ngModel)]="CustomerMastermodel.eccNo" class="form-control" id="eccNo"
                        placeholder="ECC No" name="eccNo" ngControl="CustomerMastermodel.eccNo" #eccNoEnt="ngModel"
                        [disabled]="isEdit">
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="exciseRegNo">Excise Reg. No</label>
                      <input [(ngModel)]="CustomerMastermodel.exciseRegNo" class="form-control" id="exciseRegNo"
                        placeholder="Excise Reg. No" name="exciseRegNo" ngControl="CustomerMastermodel.exciseRegNo"
                        #exciseRegNoEnt="ngModel" [disabled]="isEdit">
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="exciseRange">Excise Range</label>
                      <input [(ngModel)]="CustomerMastermodel.exciseRange" class="form-control" id="exciseRange"
                        placeholder="Excise Range" name="exciseRange" ngControl="CustomerMastermodel.exciseRange"
                        #exciseRangeEnt="ngModel" [disabled]="isEdit">
                    </div>
                  </div>
                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;
                <div class="row">

                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="exciseDivision">Excise Division</label>
                      <input [(ngModel)]="CustomerMastermodel.exciseDivision" class="form-control" id="exciseDivision"
                        placeholder="Excise Division" name="exciseDivision"
                        ngControl="CustomerMastermodel.exciseDivision" #exciseDivisionEnt="ngModel" [disabled]="isEdit">
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="dlno1">DL No.1</label>
                      <input [(ngModel)]="CustomerMastermodel.dlno1" class="form-control" id="dlno1"
                        placeholder="DL No.1" name="dlno1" ngControl="CustomerMastermodel.dlno1" #dlno1Ent="ngModel"
                        [disabled]="isEdit">
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="dlno2">DL No.2</label>
                      <input [(ngModel)]="CustomerMastermodel.dlno2" class="form-control" id="dlno2"
                        placeholder="DL No.2" name="dlno2" ngControl="CustomerMastermodel.dlno2" #dlno2Ent="ngModel"
                        [disabled]="isEdit">
                    </div>
                  </div>
                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;
                <div class="row" *ngIf="isEdit && !view ">
                  <div class="col-sm-12">
                    <div class="form-group form-group-sm"
                      [ngClass]="(commentsEnt.touched && !commentsEnt.valid)?'has-error':''">
                      <label for="Customer">Comments<span style="color:red">*</span></label>
                      <textarea [(ngModel)]="comments" class="form-control" placeholder="comments" id="comments"
                        name="comments" ngControl="comments" [readonly]=view matTooltip="Enter Comments"
                        #commentsEnt="ngModel" type="text" required></textarea>
                      <span class="help-block" *ngIf="!commentsEnt.valid && commentsEnt.touched">Please Enter
                        comments.</span>
                    </div>
                  </div>
                </div>
              </div>
              &nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;
              <div class="box" *ngIf="Creator && isEdit">
                <div class="box-header" style="background-color: #b6cedf; height: 35px;">
                  <div class="col-xs-6">
                    <h3 class="box-title">Material Code Details</h3>
                  </div>
                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;
                <div class="row">
                  <div class="col-sm-3">

                    <div class="form-group form-group-sm">
                      <label for="sapCodeExists">SAP Code Exists</label>
                      <div class="row">
                        <mat-radio-group aria-label="Select option?" id="sapCodeExists" name="sapCodeExists"
                          [(ngModel)]="CustomerMastermodel.sapCodeExists"
                          [disabled]="CustomerMastermodel.createdBy==this.currentUser.employeeId || view"
                          ngControl="CustomerMastermodel.sapCodeExists" #sapCodeExistsEnt="ngModel">
                          <mat-radio-button value='Y'>Yes</mat-radio-button>
                          &nbsp;&nbsp;&nbsp;
                          <mat-radio-button value='N'>No</mat-radio-button>
                        </mat-radio-group>
                      </div>
                    </div>


                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="sapCodeNo">SAP Code No<span style="color:red"
                          *ngIf="CustomerMastermodel.sapCodeExists!=1">*</span></label>
                      <input [(ngModel)]="CustomerMastermodel.sapCodeNo" class="form-control" placeholder="sapCodeNo"
                        id="sapCodeNo" name="sapCodeNo" ngControl="CustomerMastermodel.sapCodeNo"
                        (input)="CustomerMastermodel.sapCodeNo=$event.target.value.toUpperCase()"
                        #sapCodeNoEnt="ngModel" required
                        [readonly]="CustomerMastermodel.createdBy==this.currentUser.employeeId || view"
                        matTooltip="Enter SAP Code No" type="text">
                      <span class="help-block" *ngIf="!sapCodeNoEnt.valid && sapCodeNoEnt.touched">Please Enter
                        sap Code</span>
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="sapCreationDate">Code Creation Date</label>
                      <input name="sapCreationDate" id="sapCreationDate" placeholder="sapCreationDate Date"
                        class="form-control" value="{{CustomerMastermodel.sapCreationDate | date:'dd/MM/yyyy  HH:mm'}}"
                        disabled>
                    </div>
                  </div>
                  <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                      <label for="sapCreatedBy">Code Created By</label>
                      <input [(ngModel)]="CustomerMastermodel.sapCreatedBy" class="form-control"
                        placeholder="sapCreatedBy" id="sapCreatedBy" name="sapCreatedBy"
                        ngControl="CustomerMastermodel.sapCreatedBy" matTooltip="Enter sapCreatedBy"
                        #sapCreatedByEnt="ngModel" type="text" disabled>
                    </div>
                  </div>
                </div>
              </div>
              &nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;
              <div class="box">
                <div class="box-header" style="background-color: #b6cedf; height: 35px;">
                  <div class="col-xs-6">
                    <h3 class="box-title">Attachments</h3>
                  </div>
                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;
                <div class="row" *ngIf="!isEdit">
                  <div class="col-sm-4">
                    <input #myInput type="file" accept=".doc,.pdf" id="file"
                      (change)="handleFileInput($event.target.files)" multiple>
                  </div>
                  <div class="col-sm-3">
                    <span class="text-red pull-left" *ngIf="errMsg1.length>0"><i
                        class="fa fa-warning"></i>{{errMsg1}}</span>
                  </div>
                  <div class="col-sm-4">
                    <span class="text-red pull-left"><i class="fa fa-warning"></i>
                      NOTE:Maximum Upto 2Mb Can Be Uploaded</span>
                  </div>
                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;
                <div class="row" *ngFor="let attach of fileslist">
                  <div class="col-sm-4">
                    <label for="attachments">{{attach}}</label>
                  </div>
                  <div class="col-sm-4" *ngIf="!isEdit && attach!= null">
                    <button title="Remove Files" (click)="removefile(attach);" matTooltip="Click to delete"
                      class="btn btn-secondary btn-sm">
                      <i class="fa fa-trash"></i></button>
                  </div>

                </div>
                <div class="row" *ngFor="let attach of attachments;let i=index">
                  <div class="col-sm-4" *ngIf="attach != null">
                    <label for="attachments"></label><a (click)="downloadFile(CustomerMastermodel.requestNo,attach);"
                      style="cursor: pointer;text-decoration: underline; color: #68a7d2;" [matTooltipPosition]="'below'"
                      matTooltip="Click to download the file">{{attach}}</a>
                  </div>
                  <div class="col-sm-4" *ngIf="!isEdit && attach!= null">
                    <button title="Remove Files" (click)="deletefile(CustomerMastermodel,attach);"
                      matTooltip="Click to delete" class="btn btn-secondary btn-sm">
                      <i class="fa fa-trash"></i></button>
                  </div>


                </div>
              </div>
              <!-- &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;               
                <div class="box" *ngIf="isEdit">
                  <div class="box-header" style="background-color: #b6cedf; height: 35px;">
                    <div class="col-xs-6">
                    <h3 class="box-title">Attachments</h3>
                    </div>
                  </div>
                  &nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;
                  <div class="row">
                    <div class="col-sm-4">
                      <label for="attachments"></label><a (click)="downloadFile(CustomerMastermodel);" style="cursor: pointer;text-decoration: underline; color: #68a7d2;"
              [matTooltipPosition]="'below'" matTooltip="Click to download the file">{{CustomerMastermodel.attachments}}</a>
                </div>

                  
                    
                  </div>
                </div> -->
              &nbsp;&nbsp;&nbsp;
              &nbsp;&nbsp;&nbsp;
              <div class="box">
                <div class="box-header" style="background-color: #b6cedf; height: 35px;">
                  <div class="col-xs-6">
                    <h3 class="box-title">Approvers List</h3>
                  </div>
                </div>
                &nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;
                <div class="row" *ngIf='!isEdit'>
                  <div class="col-sm-12">
                    <div class="table">
                      <table id="approversTable" class="table table-striped">
                        <thead style="background-color: #68a7d2; color:white;">
                          <tr>
                            <th>Priority</th>
                            <th>Location</th>
                            <th>Employee ID</th>
                            <th>ApproverName</th>
                            <th>Role</th>
                            <th>Department</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let user of Approverslist; let i = index">
                            <td>{{user.priority}}</td>
                            <td>{{getloc(user)}}</td>
                            <td>{{user.approverId}}</td>
                            <td>{{user.approverName}}</td>
                            <td>{{user.role}}</td>
                            <td>{{user.department}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
                <div class="row" *ngIf='isEdit'>
                  <div class="col-sm-12">
                    <div class="table">
                      <table id="approversTable" class="table table-striped">
                        <thead style="background-color: #68a7d2; color:white;">
                          <tr>
                            <th>Priority</th>
                            <th *ngIf="!isEdit">Location</th>
                            <th>Employee ID</th>
                            <th>ApproverName</th>
                            <th>Role</th>
                            <th>Department</th>
                            <th *ngIf="isEdit">Status</th>
                            <th *ngIf="isEdit">Date</th>
                            <th *ngIf="isEdit">Comments</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let user of transactionsHistory; let i = index">
                            <td>{{user.approvalPriority}}</td>
                            <td>{{user.doneBy}}</td>
                            <td>{{user.approverName}}</td>
                            <td>{{user.role}}</td>
                            <td>{{user.department}}</td>
                            <td>{{user.status}}</td>
                            <td>{{user.doneOn |date:'dd/MM/yyyy HH:mm'}}</td>
                            <td>{{user.comments}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <div class="overlay" *ngIf="isLoadingPop">
            <!--<i class="fa fa-refresh fa-spin"></i>--> <i class="fa fa-spinner fa-pulse"></i>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <span class="text-red pull-left" *ngIf="errMsgPop.length>0"><i class="fa fa-warning"></i>{{errMsgPop}}</span>
        <div *ngIf="!view" class="row pull-right">
          <div class="dropdown ">
          <button type="button" class="btn btn-primary" (click)="oncloserequest('close')"
            matTooltip="Click to Close the Request" *ngIf="isEdit && Closure" [disabled]="comments==''">Closure</button>
          <button type="button" class="btn btn-primary" (click)="onCreate()" matTooltip="Click to Create"
            [disabled]="!dataForm.valid"
            *ngIf="isEdit && Creator && !Closure && CustomerMastermodel.createdBy!=this.currentUser.employeeId">Create</button>
          <button type="button" class="btn btn-primary" (click)="onreview('InProcess')" matTooltip="Click to Submit"
            [disabled]="!dataForm.valid" *ngIf="isEdit && Review && !Closure && !Creator">Submit</button>
          <button type="button" class="btn btn-primary" (click)="onreview('Rejected')" matTooltip="Click to Reject"
            *ngIf="isEdit && Review && !Closure" [disabled]="comments==''">Reject</button>
          &nbsp;
          
             <a  *ngIf="isEdit && Review" data-toggle="dropdown" class="dropdown-toggle"
              href="#"><span>
                <button [disabled]="comments==''" type="button" class="btn btn-primary"
                  matTooltip="Click to Revert">Revert</button>
              </span>
            </a>
            <ul  *ngIf="isEdit && Review" class="dropdown-menu">
              <li><a *ngIf="Aprlpriority >1" (click)="onRevertRequest('ReverttoLastApprover')">Previous Approver</a>
              </li>
              <li><a (click)="onRevertRequest('ReverttoInitiator')">Initiator</a></li>
            </ul>
          </div>
          &nbsp;
          <button type="button" class="btn btn-primary" (click)="onSaveEntry('Save')" matTooltip="Click to Save"
            [disabled]="!dataForm.valid" *ngIf="!isEdit && CustomerMastermodel.approveStatus==null">Save</button>
          <button type="button" class="btn btn-primary" (click)="onSaveEntry('Submit')"
            matTooltip="Click to Save & Submit" [disabled]="!dataForm.valid"
            *ngIf="!isEdit && CustomerMastermodel.approveStatus==null">Save & Submit</button>
          <button type="button" class="btn btn-primary" (click)="onSubmitEntry(CustomerMastermodel)"
            matTooltip="Click to Save & Submit" [disabled]="!dataForm.valid" *ngIf="!isEdit && CustomerMastermodel.approveStatus=='Created' || CustomerMastermodel.approveStatus =='Reverted to initiator'
                     ">Save & Submit</button>
          <button type="button" class="btn btn-primary" (click)="OnClickback()" data-dismiss="modal" *ngIf="!isEdit"
            [disabled]="isLoadingPop" matTooltip="Click to Go Back">Back</button>
          <button type="button" class="btn btn-primary" (click)="resetForm()" *ngIf="!isEdit"
            matTooltip="Click to Clear">Clear</button>
          <button type="button" class="btn btn-default" style="background-color:darkgray;color:white;"
            data-dismiss="modal" [disabled]="isLoadingPop" matTooltip="Click to close modal">Close</button>
        </div>
        <div *ngIf="view" class="row pull-right">
          <button type="button" class="btn btn-default" style="background-color:darkgray;color:white;"
            data-dismiss="modal" [disabled]="isLoadingPop" matTooltip="Click to close modal">Close</button>
        </div>
      </div>
      <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
  </div>
</div>

<div class="modal fade" id="printModal" role="dialog" aria-labelledby="printModalLabel" aria-hidden="true"
  data-backdrop="static" data-keyboard="false">

  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header" style="background-color: #68a7d2;color:white">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h3 class="modal-title">Customer Master Form
        </h3>
      </div>
      <div class="modal-body box-primary" style="box-shadow: none;">
        <div class="container">
          <div class="row">
            <table class="table table-bordered table-striped" style="align-self: auto;; ">
              <tr>
                <td>
                  <div><img src="../../assets/dist/img/micrologo.png"></div>
                </td>
                <td colspan="2" style="align-items: center;">
                  <h3 class="pull-center">Customer Master Request Form</h3>
                  <h3 class="pull-center">{{locationname}}</h3>
                </td>
              </tr>
            </table>
            <!-- <div class="col-sm-12">
              <div class="pull-left"><img src="../../assets/dist/img/micrologo.png"></div>
              <div class="col-sm-2">
                <label >&nbsp;</label><br>
                <label >&nbsp;</label><br>                
              </div> 
              <div class="col-sm-6">
                <h3 >Customer Master Request Form</h3>
              </div>         
            </div> -->
          </div>
          <hr>
          <div class="row" id="print-section">
            <div class="col-sm-12">
              <form #dataForm1="ngForm" (keydown.enter)="$event.preventDefault()">
                <table class="table table-bordered table-striped" style="align-self: auto;; ">
                  <tr>
                    <td style="width: 35%;">
                      <label><strong>Request
                          Date:</strong></label>{{CustomerMastermodel.requestDate | date:'dd/MM/yyyy'}}
                    </td>
                    <td style="width: 30%;">
                      <label><strong>Account Group</strong>: </label>{{CustomerMastermodel.accountGroupId}}
                    </td>
                    <td style="width: 35%;">
                      <label><strong>Request No</strong>: </label>{{CustomerMastermodel.requestNo}}
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <label><strong>View Type</strong>:
                      </label>{{CustomerMastermodel.viewType =='S'?'Sales':'Accounts'}}
                    </td>
                    <td>
                      <label><strong>Customer Type:</strong></label>{{CustomerMastermodel.customerType}}
                    </td>
                    <td>
                      <label><strong>Employee Code</strong>:</label> {{CustomerMastermodel.cutomerCode}}
                    </td>

                  </tr>
                  <tr>
                    <td>
                      <label><strong>Name</strong>:</label> {{CustomerMastermodel.name}}
                    </td>
                    <td colspan="2">
                      <label><strong>Address1</strong>:</label>{{CustomerMastermodel.address1}}
                    </td>
                  </tr>
                  <tr>
                    <td colspan="3">
                      <label><strong>Address2</strong>:</label>{{CustomerMastermodel.address2}}
                    </td>
                  </tr>
                  <tr>
                    <td colspan="3">
                      <label><strong>Address3</strong>:</label>{{CustomerMastermodel.address3}}
                    </td>
                  </tr>
                  <tr>
                    <td colspan="3">
                      <label><strong>Address4</strong>:</label>{{CustomerMastermodel.address4}}
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <label><strong>City</strong>:</label>{{CustomerMastermodel.city}}
                    </td>
                    <td>
                      <label><strong>Pin Code</strong>:</label> {{CustomerMastermodel.pincode}}
                    </td>
                    <td>
                      <label><strong>Country</strong>:</label> {{CustomerMastermodel.countryId}}
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <label><strong>State</strong>:</label> {{CustomerMastermodel.state}}
                    </td>
                    <td>
                      <label><strong>LandLine</strong>:</label>{{CustomerMastermodel.landlineNo}}
                    </td>
                    <td>
                      <label><strong>Mobile</strong>:</label> {{CustomerMastermodel.mobileNo}}
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <label><strong>Fax</strong>:</label> {{CustomerMastermodel.faxNo}}
                    </td>
                    <td colspan="2">
                      <label><strong>Email Id</strong>:</label>{{CustomerMastermodel.emailId}}
                    </td>
                  </tr>

                </table>
                <table class="table table-bordered table-striped" style="align-self: auto;; ">
                  <tr>
                    <td colspan="3" class="align: center" style="text-align: center;"><Strong>Sales</Strong></td>
                  </tr>
                  <tr>
                    <td style="width: 35%;">
                      <label><strong>Customer Group:</strong></label>{{CustomerMastermodel.customerGroup}}
                    </td>
                    <td style="width: 30%;">
                      <label><strong>Price Group</strong>: </label>{{CustomerMastermodel.priceGroup}}
                    </td>
                    <td style="width: 35%;">
                      <label><strong>Price List</strong>:</label> {{CustomerMastermodel.priceList}}
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <label><strong>Tax Type:</strong></label>{{CustomerMastermodel.taxType}}
                    </td>
                    <td>
                      <label><strong>Currency:</strong></label>{{CustomerMastermodel.currencyId}}
                    </td>
                    <td>
                      <label><strong>Payment Term</strong>:</label> {{CustomerMastermodel.paymentTermId}}
                    </td>
                  </tr>
                  <tr>
                    <td colspan="3">
                      <label><strong>Account Clerk</strong>:</label>{{CustomerMastermodel.accountClerkId}}
                    </td>
                  </tr>

                </table>
                <table class="table table-bordered table-striped" style="align-self: auto;; ">
                  <tr>
                    <td colspan="3" class="align: center" style="text-align: center;"><Strong>Excise/Tax</Strong></td>
                  </tr>
                  <tr>
                    <td style="width: 35%;">
                      <label><strong>Is Eligible for TDS:</strong></label>{{tdseligible}}
                    </td>
                    <td style="width: 30%;">
                      <label><strong>TDS Code:</strong>: </label>{{CustomerMastermodel.tdsCode}}
                    </td>
                    <td style="width: 35%;">
                      <label><strong>GSTIN Number</strong>: </label>{{CustomerMastermodel.gstinNumber}}
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <label><strong>LST No:</strong>:</label>{{CustomerMastermodel.lstNo}}
                    </td>
                    <td>
                      <label><strong>TIN No:</strong>:</label>{{CustomerMastermodel.tinNo}}
                    </td>
                    <td>
                      <label><strong>CST No:</strong>:</label>{{CustomerMastermodel.cstNo}}
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <label><strong>PAN No</strong>:</label>{{CustomerMastermodel.panNo}}
                    </td>
                    <td>
                      <label><strong>Service Tax Reg No.</strong>:</label>
                      {{CustomerMastermodel.serviceTaxRegistrationNo}}
                    </td>
                    <td>
                      <label><strong>Is Reg.Excise Customer</strong>:</label>
                      {{CustomerMastermodel.isRegdExciseCustomer==true?'Yes':'No'}}
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <label><strong>ECC No</strong>:</label> {{CustomerMastermodel.eccNo}}
                    </td>
                    <td>
                      <label><strong>Excise Reg. No</strong>:</label>{{CustomerMastermodel.exciseRegNo}}
                    </td>
                    <td>
                      <label><strong>Excise Range</strong>: </label>{{CustomerMastermodel.exciseRange}}
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <label><strong>Excise Division</strong>:</label> {{CustomerMastermodel.exciseDivision}}
                    </td>
                    <td>
                      <label><strong>DL No1</strong>:</label>{{CustomerMastermodel.dlno1}}
                    </td>
                    <td>
                      <label><strong>DL No2</strong>:</label>{{CustomerMastermodel.dlno2}}
                    </td>
                  </tr>
                </table>
                <table class="table table-bordered table-striped" style="align-self: auto;; ">
                  <tr>
                    <td colspan="2">
                      <label style="align-items: center;"><strong>Material Code Details</strong></label>
                    </td>
                  </tr>
                  <tr>
                    <td style="width: 50%;">
                      <label><strong>SAP Code
                          Exists</strong>:</label>{{CustomerMastermodel.sapCodeExists==true ?'Yes':'No'}}
                    </td>
                    <td style="width: 50%;">
                      <label><strong>SAP Code No</strong>:</label>{{CustomerMastermodel.sapCodeNo}}
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <label><strong>CodeCreation Date</strong>
                        :</label>{{CustomerMastermodel.sapCreationDate | date:'dd/MM/yyyy HH:mm'}}
                    </td>
                    <td colspan="2">
                      <label><strong>Code Created By</strong> :</label>{{CustomerMastermodel.sapCreatedBy}}
                    </td>
                  </tr>
                </table>
                <table class="table table-bordered table-striped" style="align-self: auto;; ">
                  <tr style="align-items: center;">
                    <td style="align-items: center;">
                      <label style="align-items: center;"><strong>Attachments</strong></label>
                    </td>
                  </tr>
                  <tr>
                    <td style="width: 100%;">
                      <label>{{CustomerMastermodel.attachments}}</label>
                    </td>
                  </tr>
                </table>
                <table class="table table-bordered table-striped" style="align-self: auto;; ">
                  <tr style="align-items: center;">
                    <td colspan="3" style="align-items: center;">
                      <label style="align-items: center;"><strong>Approvers List</strong></label>
                    </td>
                  </tr>
                  <tr>
                    <td colspan="3">
                      <div class="table">
                        <table id="approversTable" class="table table-striped">
                          <thead>
                            <tr>
                              <th>Priority</th>
                              <th>Employee ID</th>
                              <th>ApproverName</th>
                              <th>Role</th>
                              <th>Department</th>
                              <th>Status</th>
                              <th>Date</th>
                              <th>Comments</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor="let user of transactionsHistory; let i = index">
                              <td>{{user.approvalPriority}}</td>
                              <td>{{user.doneBy}}</td>
                              <td>{{user.approverName}}</td>
                              <td>{{user.role}}</td>
                              <td>{{user.department}}</td>
                              <td>{{user.status}}</td>
                              <td>{{user.doneOn |date:'dd/MM/yyyy HH:mm'}}</td>
                              <td>{{user.comments}}</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </td>
                  </tr>
                </table>
              </form>
            </div>
            <div class="overlay" *ngIf="isLoadingPop">
              <i class="fa fa-spinner fa-pulse"></i>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">

        <button type="button" class="btn btn-primary" (click)="downloadPdf(CustomerMastermodel)"
          [disabled]="isLoadingPop" matTooltip="Click to Print">Print</button>
        <button type="button" class="btn btn-default" style="background-color:darkgray;color:white;"
          data-dismiss="modal" [disabled]="isLoadingPop" matTooltip="Click to close modal">Close</button>

      </div>
      <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
  </div>
</div>

<div class="modal fade" id="printReasonModal" role="dialog" aria-labelledby="printReasonModalLabel" aria-hidden="true"
  data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-md">
    <div class="modal-content">
      <div class="modal-header" style="background-color: #68a7d2;color:white">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h3 class="modal-title">Customer Master Request Form
        </h3>
      </div>
      <div class="modal-body box-primary" style="box-shadow: none;">
        <div class="row">
          <div class="col-sm-12">
            <form #ReasonForm="ngForm" (keydown.enter)="$event.preventDefault()">
              <div class="row">
                <div class="col-sm-12">
                  <div class="form-group form-group-sm">
                    <label for="preason">Reason for printing <span style="color: red;">*</span> </label>
                    <input [(ngModel)]="printReason" class="form-control" id="preason" placeholder="Reason for printing"
                      required name="preason" ngControl="printReason" #preasonEnt="ngModel">
                  </div>
                </div>
              </div>
            </form>
          </div>
          <div class="overlay" *ngIf="isLoadingPop">
            <!--<i class="fa fa-refresh fa-spin"></i>--> <i class="fa fa-spinner fa-pulse"></i>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <span class="text-red pull-left" *ngIf="errMsgPop.length>0"><i class="fa fa-warning"></i>{{errMsgPop}}</span>
        <button class="btn btn-primary btn-sm" (click)="onUserActions(true,printModel,true,'View')"
          matTooltip="Click to Continue" [disabled]="!ReasonForm.valid" data-dismiss="modal">
          Print</button>
        <button type="button" class="btn btn-default" style="background-color:darkgray;color:white;"
          data-dismiss="modal" [disabled]="isLoadingPop" matTooltip="Click to close modal">Close</button>
      </div>
      <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
  </div>
</div>