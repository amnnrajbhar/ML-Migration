<section class="content-header">
    <h1 class="display-1">
        Gate Entry
        <small></small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-database" aria-hidden="true"></i> Home</a></li>
        <li class="active">Gate Entry </li>
    </ol>
</section>
<!-- Main content -->
<section class="content">
    <div class="box">
        <div class="box-header">
            <div class="col-xs-8">
                <h3 class="box-title">Gate Entry Without PO</h3>
                <span class="label label-danger" *ngIf="errMsg.length>0">{{errMsg}}</span>
            </div>
            <div class="col-xs-4">
                <div class="pull-right">
                    <button type="button" class="btn btn-primary" matTooltip="Click to Gate Entry"
                        (click)="onGateEntryActions(false,gateEntryMModel,'new')"
                        *ngIf="(currentUser.fkProfileId==1002 || currentUser.fkProfileId==1)"><i class="fa fa-plus"
                            aria-hidden="true"></i> Gate Entry</button>&nbsp;&nbsp;
                    <button type="button" class="btn btn-primary" matTooltip="Click to Acknowledge"
                        (click)="onGateEntryActions(false,gateEntryMModel,'search')"
                        *ngIf="(currentUser.fkProfileId==4 || currentUser.fkProfileId==1)"><i class="fa fa-plus"
                            aria-hidden="true"></i>
                        GI Acknowledge</button>
                </div>
            </div>
        </div>
        <div id="dateFilterPanel">
            <div class="row ml-3">
                <div class="col-sm-3">
                    <label>GI No</label>
                    <div class="form-group form-group-sm">
                        <input matTooltip="enter GI NO" name="GINUM" class="form-control" [(ngModel)]="fltrGINO"
                          placeholder="GI NO">
                    </div>
                </div>
                <div class="col-sm-3">
                    <label>Document No</label>
                    <div class="form-group form-group-sm">
                        <input matTooltip="Enter Document No" name="INVNUM" class="form-control" [(ngModel)]="fltrInvoice"
                         placeholder="Document NO">
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                        <label for="DeliveryMode">Delivery Mode</label>
                        <ng-multiselect-dropdown id="fltdeliverymode" name="fltdeliverymode" #fltrdelrymodeEnt="ngModel"
                            [placeholder]="'select Delivery Mode(multiple)'" [data]="deliveryModeList" matTooltip="Select delivery mode"
                            [(ngModel)]="selectedModes" [settings]="dropdownSettings" (onDeSelect)="onItemDeSelect($event)"
                            (onDeSelectAll)="onDeSelectAll($event)" (onSelectAll)="onSelectAll($event)">
                        </ng-multiselect-dropdown>
                    </div>
                </div>
                <div class="col-sm-3">                   
                    <label for="plant">Plant</label>
                    <select                                           
                        [(ngModel)]="plant" class="form-control"
                        id="plant" name="plant"  matTooltip="Select Plant"
                        ngControl="plant"  >
                        <option [ngValue]="undefined" disabled>--Select an Option--</option>
                        <option *ngFor="let gate of plantList" [ngValue]="gate.code">
                            {{gate.code}}-{{gate.name}}</option>
                    </select>                      
               
            </div>
            </div>
            <div class="row ml-3" *ngIf="currentUser.fkProfileId!=1002">
                <div class="col-sm-3">
                    <div class="form-group form-group-sm">
                        <label for="DeliveryMode">GI Acknowledge</label>
                        <select [(ngModel)]="gIacknowledge" matTooltip="Select GI Acknowledge" class="form-control" id="gIacknowledge" name="gIacknowledge">
                            <option [ngValue]="null">ALL</option>
                            <option>Yes</option>
                            <option>No</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-2">
                    <div class="checkbox">
                        <label><input type="checkbox" id="chkdelete" name="delete" matTooltip="Check to Cancelled" [(ngModel)]="delete"><b>Cancelled
                                GI</b></label>
                    </div>
                </div>
                <div class="col-sm-2">
                    <div class="checkbox">
                        <label><input type="checkbox" id="chkack" name="ack" matTooltip="Check to acknowledge" [(ngModel)]="acknowledge"><b>GI
                                Pending</b></label>
                    </div>
                </div>
            </div>
            <div class="row ml-3">
                <div class="col-sm-4">
                    <label>From Date</label>
                    <!-- <input type="date" class="form-control" placeholder="From Date"  [(ngModel)]="from_date"/> -->
                    <div class="form-group form-group-sm" [ngClass]="(fromDate.touched && !fromDate.valid)?'has-error':''">
                        <input [matTooltipPosition]="'below'" matTooltip="Click to change from date" [owlDateTime]="dt11"
                            [owlDateTimeTrigger]="dt11" name="fromDate" class="form-control" [(ngModel)]="from_date"
                            #fromDate="ngModel">
                        <owl-date-time [pickerType]="'calendar'" #dt11 style="width: 250px;"></owl-date-time>
                        <span class="help-block" *ngIf="!fromDate.valid && fromDate.touched">Please enter valid From
                            Date.</span>
                    </div>
                </div>
                <div class="col-sm-4">
                    <label>To Date</label>
                    <div class="form-group form-group-sm" [ngClass]="(toDate.touched && !toDate.valid)?'has-error':''">
                        <!-- <input type="date" [disabled]="from_date==null||from_date==''" class="form-control" placeholder="To Date"  [(ngModel)]="to_date"> -->
                        <input [min]="from_date" [max]="today" [matTooltipPosition]="'below'"
                            matTooltip="Click to change to date" [owlDateTime]="dt12" [owlDateTimeTrigger]="dt12" name="endDate"
                            class="form-control" [(ngModel)]="to_date" #toDate="ngModel">
                        <owl-date-time [pickerType]="'calendar'" #dt12 style="width: 250px;"></owl-date-time>
                        <span class="help-block" *ngIf="!toDate.valid && toDate.touched">Please enter valid To
                            Date.</span>
                    </div>
                </div>
                <div class="col-sm-2">
                    <label>&nbsp;</label>
                    <div class="form-group form-group-sm">
                        <button class="btn btn-primary btn-sm" (click)="getAllGateEntries('load');" matTooltip="Click to Go"
                            [disabled]="(!toDate.valid && toDate.touched) || (!fromDate.valid && fromDate.touched)">Go</button>
                        &nbsp;&nbsp;
                        <button class="btn btn-primary btn-sm" (click)="clearFilter();" matTooltip="Click to reset">Clear</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.box-header -->
        <div class="box-body table-responsive">
            <table id="userTable" class="table  table-striped" cellspacing="0">
                <thead style="background-color: #0099cc; color:white;">
                    <tr>
                        <th>SNo</th>
                        <th>Financial Year</th>
                        <th>GI No</th>
                        <!-- <th>Gate No</th> -->
                        <th>Document No</th>
                        <th>Document Date</th>
                        <th>Delivery Mode</th>
                        <th>In Date</th>
                        <th>In Time</th>
                        <th>ACK Date</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let ge of gateEntryMList; let i = index">
                        <td>{{i+1}}</td>
                        <td>{{ge.fiN_YEAR}}</td>
                        <td>{{ge.gI_NO}}</td>
                        <!-- <td>{{ge.gI_GATENO}}</td> -->
                        <td>{{ge.doC_NO}}</td>
                        <td>{{ge.doC_DATE | date:'dd/MM/yyyy'}}</td>
                        <td>{{ge.deliverymode}}</td>
                        <td>{{ge.gI_DATE | date:'dd/MM/yyyy'}}</td>
                        <td>{{ge.iN_TIME | date:'HH:mm'}}</td>
                        <td>{{ge.receiveD_DATE | date:'dd/MM/yyyy'}}</td>
                        <td>
                            <table>
                                <tr>
                                    <td class="pr-2" *ngIf="currentUser.fkProfileId!=1002 && ge.receiveD_DATE ==null"><button type="button" [matTooltipPosition]="'after'"
                                        matTooltip="Click to acknowledge Entry" class="btn btn-primary btn-xs" [disabled]="!ge.isActive"
                                            (click)="onGateEntryActions(true,ge,'acknowledge')">
                                            <i class="fa fa-check"></i></button>
                                    </td>
                                    <td class="pr-2" *ngIf="currentUser.fkProfileId!=1002"><button type="button" [matTooltipPosition]="'after'"
                                            matTooltip="Click to Cancel Entry" class="btn btn-primary btn-xs"
                                            (click)="onGateEntryActions(true,ge,'edit')" [disabled]="!ge.isActive || ge.receiveD_DATE">
                                            <i class="fa fa-trash"></i></button>
                                    </td>
                                    <td><button type="button" class="btn btn-primary btn-xs" [matTooltipPosition]="'after'"
                                            matTooltip="Click to Print" (click)="onGateEntryActions(true,ge,'print')"><i class="fa fa-print"
                                                aria-hidden="true"></i></button>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- /.box-body -->
        <div class="overlay" *ngIf="isLoading">
            <!-- <i class="fa fa-spinner fa-spin"></i> -->
            <i class="fa fa-spinner fa-pulse"></i>
        </div>
    </div>
</section>
<div class="modal fade" id="saveModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
    data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-md  modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                    (click)="getAllGateEntries('load')">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h3 class="modal-title" style="color: #0FB381; text-align: center;"><span class="text pull-center"
                        *ngIf="errMsgModalPop.length>0"><i class="fa fa-check"></i>{{errMsgModalPop}}</span></h3>
            </div>
        </div>
    </div>
    <div class="overlay" *ngIf="isLoading">
        <i class="fa fa-plus fa-spin"></i>
    </div>
</div>
<!--Security Modal-->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"
    data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header" style="background-color: #68a7d2;color:white;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h3 class="modal-title">Gate Entry - With Out PO @{{locationName}}
                    <div class="float-right">
                        Entry Date and Time - {{entryDateTime | date:'dd/MM/yyyy HH:mm'}}
                    </div>
                </h3>
            </div>
            <div class="modal-body box-primary" style="box-shadow: none;">
                <div class="row">
                    <div class="col-sm-12">
                        <form #userForm="ngForm">
                            <div class="row">
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm"
                                        [ngClass]="(!gatenumber.valid && gatenumber.touched)?'has-error':''">
                                        <label for="gatenumber"><i class="fa fa-times-circle-o"
                                                *ngIf="!gatenumber.valid && gatenumber.touched"></i>Gate No<span
                                                style="color:red">*</span></label>
                                        <select [(ngModel)]="selGateLocation" class="form-control" id="locationGate"
                                            name="locationGate" ngControl="selGateLocation" #gatenumber="ngModel"
                                            required [disabled]="isEdit" matTooltip="Select Gate No">
                                            <option [ngValue]="null" disabled [selected]="true">--Select an Option--
                                            </option>
                                            <option *ngFor="let gate of locationGateList" [ngValue]="gate">
                                                {{gate.gateNo}}</option>
                                        </select>
                                        <span class="help-block" *ngIf="!gatenumber.valid && gatenumber.touched">Please
                                            Enter Gate
                                            Number.</span>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="fiscalyr">Financial Year</label>
                                        <input type="text" class="form-control" id="usrLName" placeholder="Financial Year" [(ngModel)]="fiscalYear"
                                            ngControl="fiscalYear" name="fiscalyr" readonly />
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm"
                                        [ngClass]="(docnumberEnt.touched && !docnumberEnt.valid)?'has-error':''">
                                        <label for="docnumberEnt">Document Number<span style="color:red">*</span>
                                        </label>
                                        <input [(ngModel)]="gateEntryMModel.doC_NO" class="form-control"
                                            placeholder="Document No" id="docnumber" matTooltip="Enter Document No"
                                            (change)="gateEntryMModel.doC_NO=gateEntryMModel.doC_NO.trim()" maxlength="16"
                                            name="docnumber" ngControl="gateEntryMModel.doC_No" #docnumberEnt="ngModel"
                                            type="text" [readonly]="isEdit" required>
                                        <span class="help-block"
                                            *ngIf="!docnumberEnt.valid && docnumberEnt.touched">Please Enter Document
                                            Number.</span>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm"
                                        [ngClass]="(invoiceDate.touched && !invoiceDate.valid)?'has-error':''">
                                        <label for="invoiceDate">Document Date<span style="color:red">*</span>
                                        </label>
                                        <input  [max]="max" [owlDateTime]="dt3" #invoiceDate="ngModel" required [readonly]="isEdit"
                                            [owlDateTimeTrigger]="dt3" name="docdate" class="form-control" matTooltip="Enter Document Date"
                                            [(ngModel)]="gateEntryMModel.doC_DATE" placeholder="Document Date">
                                        <owl-date-time [pickerType]="'calendar'" #dt3></owl-date-time>
                                        <span class="help-block"
                                            *ngIf="!invoiceDate.valid && invoiceDate.touched">Please Enter Document
                                            Date.</span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3" >
                                    <div class="form-group form-group-sm"
                                        [ngClass]="(!plantEnt.valid && plantEnt.touched)?'has-error':''">
                                        <label for="plant">Plant<span style="color:red">*</span></label>
                                        <select                                           
                                            [(ngModel)]="plant" class="form-control"
                                            id="plant" name="plant"  matTooltip="Select Plant"
                                            ngControl="plant" #plantEnt="ngModel"
                                            [disabled]="isEdit" required>
                                            <option [ngValue]="undefined" disabled>--Select an Option--</option>
                                            <option *ngFor="let gate of plantList" [ngValue]="gate.code">
                                                {{gate.code}}-{{gate.name}}</option>
                                        </select>
                                        <span class="help-block"
                                            *ngIf="!plantEnt.valid && plantEnt.touched">Please select delivery
                                            mode</span>
                                    </div>
                                </div>
                               
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm"
                                        [ngClass]="(supnameEnt.touched && !supnameEnt.valid)?'has-error':''">
                                        <label for="supname"> Supplier Name<span style="color:red">*</span></label>
                                        <input [(ngModel)]="gateEntryMModel.namE1" class="form-control" id="project"
                                            placeholder="Supplier Name" name="supname" ngControl="gateEntryMModel.namE1"
                                            #supnameEnt="ngModel" [readonly]="isEdit" matTooltip="Eneter Suppiler name" required>
                                        <span class="help-block" *ngIf="!supnameEnt.valid && supnameEnt.touched">Please
                                            Enter
                                            Supplier Name.</span>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="supplace"> Supplier Place</label>
                                        <input [(ngModel)]="gateEntryMModel.orT01" class="form-control"
                                            placeholder="Supplier Place" id="supplace" name="supplace"
                                            ngControl="gateEntryMModel.orT01" #supplaceEnt="ngModel"
                                            [readonly]="isEdit" matTooltip="Enter Suppiler place">
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="supcountry"> Supplier Country</label>
                                        <input [(ngModel)]="landx" class="form-control" id="supCountry"
                                            placeholder="Supplier Country" name="supCountry" matTooltip="Enter Suppiler country"
                                            ngControl="gateEntryMModel.landx" #supCountryEnt="ngModel"
                                            [readonly]="isEdit">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm"
                                        [ngClass]="(!deliverymode.valid && deliverymode.touched)?'has-error':''">
                                        <label for="DeliveryMode">Delivery Mode<span style="color:red">*</span></label>
                                        <select
                                            ng-init="gateEntryMModel.deliverymode = gateEntryMModel.deliverymode || 'none'"
                                            [(ngModel)]="gateEntryMModel.deliverymode" class="form-control"
                                            id="deliverymode" name="deliverymode" matTooltip="Select Delivery Mode"
                                            ngControl="gateEntryMModel.deliverymode" #deliverymode="ngModel"
                                            [disabled]="isEdit" required>
                                            <option [ngValue]="undefined" disabled>--Select an Option--</option>
                                            <option>In Person</option>
                                            <option>Courier</option>
                                            <option>Vehicle</option>
                                        </select>
                                        <span class="help-block"
                                            *ngIf="!deliverymode.valid && deliverymode.touched">Please select delivery
                                            mode</span>
                                    </div>
                                    <!-- <div class="form-group form-group-sm">
                                        <label for="supcodEnte"> Supplier Code
                                            <button class="btn btn-danger btn-xs" (click)="addSupplierMaster();" *ngIf="!isEdit">Add New Supplier</button>
                                            [ngClass]="(supcodEnt.touched && !supcodEnt.valid)?'has-error':''"
                                        </label>
                                        <ng-select [items]="supplierMasterList" (change)="onSupplierSelectionChanged($event);" bindLabel="name"
                                            name="parentDes" [multiple]="false" [virtualScroll]="true" placeholder="Select Supplier"
                                            [(ngModel)]="selectedSupplier" #supcodEnt="ngModel" [disabled]="isEdit">
                                            <ng-template ng-label-tmp let-item="item">
                                                {{item.code}}
                                            </ng-template>
                                            <ng-template ng-option-tmp let-item="item" let-index="index">
                                                {{item.name}}
                                            </ng-template>
                                        </ng-select>
                                        <span class="help-block" *ngIf="!supcodEnt.valid && supcodEnt.touched">Please select Supplier
                                            Code.</span>
                                    </div> -->
                                </div>
                                <div class="col-sm-3" *ngIf="gateEntryMModel.deliverymode=='In Person'">
                                    <div class="form-group form-group-sm"
                                        [ngClass]="(deliveryperson.touched && !deliveryperson.valid)?'has-error':''">
                                        <label for="deliveryperson">Delivery Person Name<span style="color:red">*</span>
                                        </label>
                                        <input [(ngModel)]="gateEntryMModel.deliveryperson" class="form-control"
                                            required id="deliveryperson" placeholder="Delivery Person" matTooltip="Enter delivery person"
                                            name="deliveryperson" ngControl="gateEntryMModel.deliveryperson"
                                            #deliveryperson="ngModel" [readonly]="isEdit">
                                        <span class="help-block"
                                            *ngIf="!deliveryperson.valid && deliveryperson.touched">Please Enter
                                            Delivery Person
                                            Name.</span>
                                    </div>
                                </div>
                                <div class="col-sm-3" *ngIf="gateEntryMModel.deliverymode=='Vehicle'">
                                    <div class="form-group form-group-sm"
                                        [ngClass]="(vehicleNoEnt.touched && !vehicleNoEnt.valid)?'has-error':''">
                                        <label for="vehicleNoEnt">Vehicle No<span style="color:red">*</span>
                                        </label>
                                        <input [(ngModel)]="gateEntryMModel.vehicleno" class="form-control" required
                                            id="vehicleNo" placeholder="Vehicle #" name="vehicleNo" matTooltip="Enter vehicle No"
                                            ngControl="gateEntryMModel.vehicleno" #vehicleNoEnt="ngModel"
                                            [readonly]="isEdit">
                                        <span class="help-block"
                                            *ngIf="!vehicleNoEnt.valid && vehicleNoEnt.touched">Please Enter Vehicle
                                            No.</span>
                                    </div>
                                </div>
                                <div class="col-sm-3" *ngIf="gateEntryMModel.deliverymode=='Vehicle'">
                                    <div class="form-group form-group-sm">
                                        <label for="transporterNameEnt">Transporter Name </label>
                                        <input [(ngModel)]="gateEntryMModel.transporterName" class="form-control" 
                                            id="transporterName" placeholder="Transporter Name" name="transporterName" matTooltip="Enter Transporter Name"
                                            ngControl="gateEntryMModel.transporterName" #transporterNameEnt="ngModel"
                                            [readonly]="isEdit">
                                       </div>
                                </div>
                                <div class="col-sm-3" *ngIf="gateEntryMModel.deliverymode=='Vehicle'">
                                    <div class="form-group form-group-sm">
                                        <label for="lrNoEnt">LR No</label>
                                        <input [(ngModel)]="gateEntryMModel.lrNo" class="form-control" 
                                            id="lrNo" placeholder="LR No" name="lrNo" matTooltip="Enter LR No"
                                            ngControl="gateEntryMModel.lrNo" #lrNoEnt="ngModel"
                                            [readonly]="isEdit">                                      
                                    </div>
                                </div>
                                <div class="col-sm-3" *ngIf="gateEntryMModel.deliverymode=='Vehicle'">
                                    <div class="form-group form-group-sm">
                                        <label for="driverNameEnt">Driver Name</label>
                                        <input [(ngModel)]="gateEntryMModel.driverName" class="form-control" 
                                            id="driverName" placeholder="Driver Name" name="driverName" matTooltip="Enter Driver Name"
                                            ngControl="gateEntryMModel.driverName" #driverNameEnt="ngModel"
                                            [readonly]="isEdit">                                     
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="inwardTime">Inward Time</label>
                                        <input name="inwardTime" class="form-control"
                                            value="{{iN_TIME | date:'dd/MM/yyyy, HH:mm'}}" readonly>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="personName">Received By<span style="color:red">*</span></label>
                                        <input [(ngModel)]="gateEntryMModel.persoN_NAME" class="form-control" id="personName"
                                            placeholder="Person Name" name="personName" ngControl="gateEntryMModel.persoN_NAME"
                                            [readonly]="isEdit" (keyup)="getpersonResponsible($event)" #personNameEnt="ngModel" required >
                                            <span class="help-block"
                                            *ngIf="!personNameEnt.valid && personNameEnt.touched">Please Enter Person
                                            Name.</span>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="remarks">Remarks</label>
                                        <textarea [(ngModel)]="gateEntryMModel.remarks" class="form-control" maxlength="2000"
                                            id="remarks" placeholder="Remarks" name="remarks" matTooltip="Enter remarks"
                                            ngControl="gateEntryMModel.remarks" #remarksEnt="ngModel"
                                            [readonly]="isEdit"></textarea>
                                    </div>
                                </div>

                            </div>
                            <div class="row" >                              
                                <div class="col-sm-3" *ngIf="gateEntryMModel.deliverymode=='Courier'">
                                    <div class="form-group form-group-sm"
                                        [ngClass]="(courierName.touched && !courierName.valid)?'has-error':''">
                                        <label for="courierName">Courier Name<span style="color:red">*</span>
                                        </label>
                                        <input [(ngModel)]="gateEntryMModel.courier_Name" class="form-control"
                                            placeholder="Courier Name" id="courierName" name="courierName" matTooltip="Enter courier Name"
                                            ngControl="gateEntryMModel.courier_Name" #courierName="ngModel" type="text"
                                            [readonly]="isEdit" required>
                                        <span class="help-block"
                                            *ngIf="!courierName.valid && courierName.touched">Please Enter Courier
                                            Name.</span>
                                    </div>
                                </div>
                                <div class="col-sm-3" *ngIf="gateEntryMModel.deliverymode=='Courier'">
                                    <div class="form-group form-group-sm"
                                        [ngClass]="(courierNum.touched && !courierNum.valid)?'has-error':''">
                                        <label for="courierNum">Docket No<span style="color:red">*</span>
                                        </label>
                                        <input [(ngModel)]="gateEntryMModel.courier_Num" class="form-control"
                                            placeholder="Docket No" id="courierNum" matTooltip="Enter Docket No"
                                            (change)="gateEntryMModel.courier_Num=gateEntryMModel.courier_Num.trim()"
                                            name="courierNum" ngControl="gateEntryMModel.courier_Num"
                                            #courierNum="ngModel" type="text" [readonly]="isEdit" required>
                                        <span class="help-block" *ngIf="!courierNum.valid && courierNum.touched">Please
                                            Enter Docket No.</span>
                                    </div>
                                </div>
                                <div class="col-sm-3" *ngIf="gateEntryMModel.deliverymode=='Courier'">
                                    <div class="form-group form-group-sm"
                                        [ngClass]="(courierDate.touched && !courierDate.valid)?'has-error':''">
                                        <label for="courierDate">Docket Date<span style="color:red">*</span>
                                        </label>
                                        <input [max]="max" [owlDateTime]="dt4" #courierDate="ngModel" required [readonly]="isEdit"
                                            [owlDateTimeTrigger]="dt4" name="courierDate" class="form-control" matTooltip="Enter Docket Date"
                                            [(ngModel)]="gateEntryMModel.courier_Date" placeholder="Docket Date">
                                        <owl-date-time [pickerType]="'calendar'" #dt4></owl-date-time>
                                        <span class="help-block"
                                            *ngIf="!courierDate.valid && courierDate.touched">Please Enter Docket Date.</span>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3" *ngIf="isEdit && gateEntryMModel.receiveD_DATE==null">
                                    <div class="form-group form-group-sm" [ngClass]="(reasonEnt.touched && !reasonEnt.valid)?'has-error':''">
                                        <label for="reason">Reason for Cancellation<span style="color:red">*</span></label>
                                        <input [(ngModel)]="reason" class="form-control" id="reason" matTooltip="Enter Reason for Cancellation"
                                            placeholder="Reason for Cancellation" name="reason" ngControl="reason" #reasonEnt="ngModel" maxlength="50"
                                            required>
                                        <span class="help-block" *ngIf="!reasonEnt.valid && reasonEnt.touched">Please
                                            Enter
                                            Reason.</span>
                                        <span style="color:red">Reason can allow most 50 characters only</span>
                                    </div>
                                </div>
                                <div class="col-sm-3" *ngIf="gateEntryMModel.receiveD_DATE!=null">
                                    <div class="form-group form-group-sm">
                                        <label for="receiveD_DATE">Received Date
                                        </label>
                                        <input #receiveD_DATEEnt="ngModel" required name="receiveD_DATE" id="receiveD_DATE" class="form-control"
                                            [ngModel]="gateEntryMModel.receiveD_DATE | date:'dd/MM/yyyy'" placeholder="Received Date" readonly>
                                    </div>
                                </div>
                                <div class="col-sm-6" *ngIf="gateEntryMModel.receiveD_DATE!=null">
                                    <div class="form-group form-group-sm">
                                        <label for="comments1">Comments</label>
                                        <textarea [ngModel]="gateEntryMModel.comments" class="form-control" id="comments1" placeholder="comments"
                                            name="comments1" #comments1Ent="ngModel"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                        <!-- <button (click)="addMaterialMaster();" class="btn btn-danger btn-xs" *ngIf="!isEdit">Add New
                      Material</button> -->
                                    <div class="table-responsive">
                                        <button title="Add Rows" [matTooltipPosition]="'below'"
                                            matTooltip="Click to Add more Rows" (click)="addRows(rec);"
                                            class="btn btn-primary btn-xs pull-right" *ngIf="!isEdit" [disabled]="isEdit">
                                            <i class="fa fa-plus"></i></button>
                                        <table id="personTable" class="table table-bordered" cellspacing="0"
                                            style="margin-bottom: 0px;">
                                            <thead>
                                                <tr>
                                                    <th>Sl. No</th>
                                                    <th class="col-sm-2">Material Type</th>
                                                    <th>Material Description</th>
                                                    <th class="col-sm-2">UOM</th>
                                                    <th class="col-sm-2">Qty Received</th>
                                                    <th style="width: 2%;" *ngIf="!isEdit"></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let per of dynamicArray; let rec=index">
                                                    <td>
                                                        <label>{{rec+1}}.</label>
                                                    </td>
                                                    <td>
                                                        <select [(ngModel)]="per.iteM_CODE" class="form-control input-sm" [name]="'iteM_CODE'+per.id"
                                                            matTooltip="Select Material Type" #iteM_CODEEnt="ngModel" [disabled]="isEdit" (change)="setDesc(per)" required>
                                                            <option [ngValue]="null" disabled [selected]="true">--Select
                                                                an Option--</option>
                                                            <option *ngFor="let pDept of materialList" [ngValue]="pDept.type">
                                                                {{pDept.type}}</option>
                                                        </select>
                                                    </td>
                                                    <td>
                                                        <input class="form-control input-sm suggestion" type="text" onClick="this.select();" [readonly]="per.iteM_CODE==null"
                                                            matTooltip="Enter Material description.Description can allow only 40 characters" [name]="'iteM_DESC'+per.id" [id]="'iteM_DESC'+per.id"
                                                            [(ngModel)]="per.iteM_DESC" maxlength="40" placeholder="Material Desc" #iteM_DESCEnt="ngModel"
                                                            [value]="per.iteM_DESC" [disabled]="isEdit" required />
                                                    </td>
                                                    <td>
                                                        <select [(ngModel)]="per.uom" class="form-control input-sm" [disabled]="isEdit" [name]="'uom'+per.id" matTooltip="Select UOM" #uomEnt="ngModel" required>
                                                            <option [ngValue]="null" disabled [selected]="true">--Select
                                                                an Option--</option>
                                                            <option *ngFor="let pUOM of UOMList" [ngValue]="pUOM.uom">
                                                                {{pUOM.uom}}</option>
                                                        </select>
                                                    </td>
                                                    <td>
                                                        <input class="form-control input-sm" type="number" [disabled]="isEdit" matTooltip="Enter Received Quantity" [name]="'qtY_RCVD'+per.id"
                                                            [(ngModel)]="per.qtY_RCVD" placeholder="Qty" (change)="validateQTY($event,per)" required #qtYRCVDEnt="ngModel"/>
                                                    </td>
                                                    <td *ngIf="!isEdit">
                                                        <button title="Remove Details" (click)="removeRows(per);" matTooltip="Click to delete"
                                                            class="btn btn-secondary btn-sm" [disabled]="isEdit">
                                                            <i class="fa fa-trash"></i></button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>

                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="overlay" *ngIf="isLoadingPop">
                    <i class="fa fa-spinner fa-pulse"></i>
                </div>
            </div>
            <div class="modal-footer">
                <span class="text-red pull-left" *ngIf="errMsgPop.length>0"><i
                        class="fa fa-warning"></i>{{errMsgPop}}</span>
                <button type="button" class="btn btn-primary" (click)="onSaveEntry()" [disabled]="isLoadingPop ||!userForm.valid" matTooltip="Click to Cancel"
                    *ngIf="(isEdit && gateEntryMModel.receiveD_DATE==null) && (currentUser.fkProfileId!=1002)">Cancel Entry</button>
                <button type="button" class="btn btn-primary" (click)="onSaveEntry()" [disabled]="isLoadingPop ||!userForm.valid"
                    *ngIf="!isEdit" matTooltip="Click to Submit">Save</button>
                <button type="button" class="btn btn-default" style="background-color:darkgray;color:white;"
                    data-dismiss="modal" [disabled]="isLoadingPop" matTooltip="Click to close modal">Close</button>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
</div>
<div class="modal fade" id="depModal" role="dialog" aria-labelledby="depModalLabel" aria-hidden="true"
    data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header" style="background-color: #68a7d2;color:white;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h3 class="modal-title">Gate Entry - With Out PO @{{locationName}}
                    <div class="float-right">
                        Entry Date and Time - {{entryDateTime | date:'dd/MM/yyyy HH:mm'}}
                    </div>
                </h3>
            </div>
            <div class="modal-body box-primary" style="box-shadow: none;">
                <div class="row">
                    <div class="col-sm-12">
                        <form #depForm="ngForm">
                            <div class="row" *ngIf="!isEdit">
                                <div class="col-sm-4">
                                    <div class="form-group form-group-sm">
                                        <label for="gI_No">GI#<span style="color:red">*</span></label>
                                        <input type="text" class="form-control" id="gIno" placeholder="GI #" matTooltip="Enter GI NO"
                                            [(ngModel)]="gINo" name="gIno" (change)="gINo=gINo.trim()" ngControl="gINo"
                                            #gINoEnt="ngModel">
                                    </div>
                                </div>
                                <div class="col-1" style="margin-top: 2.3rem;">
                                    <button class="btn btn-primary btn-sm" matTooltip="click to Go" (click)="getGINumInfo(gINo);">Go</button>
                                </div>
                                <div class="col-1 mt-5">
                                    <div class="overlay" *ngIf="isLoadingBAPI">
                                        <i class="fa fa-spinner fa-pulse"></i>
                                    </div>
                                </div>
                            </div>
                            <hr class="m-3" *ngIf="!isEdit">
                            <div class="row">
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="gatenumber">Gate No</label>
                                        <input [(ngModel)]="gateEntryMModel.gI_GATENO" placeholder="Gate No"
                                            class="form-control" id="locationGate1" name="locationGate1" type="text"
                                            required readonly />
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="fiscalyr">Financial Year</label>
                                        <input type="text" class="form-control" id="usrLName1"
                                            placeholder="Financial Year" [(ngModel)]="gateEntryMModel.fiN_YEAR"
                                            name="fiscalyr1" required readonly />
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="docnumberEnt">Document Number
                                        </label>
                                        <input [(ngModel)]="gateEntryMModel.doC_NO" class="form-control"
                                            placeholder="Document No" id="docnumber1" name="docnumber1" type="text"
                                            required readonly>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="invoiceDate">Document Date
                                        </label>
                                        <input name="docdate1" class="form-control" type="text"
                                            value="{{gateEntryMModel.doC_DATE | date:'dd/MM/yyyy'}}"
                                            placeholder="Document Date" readonly>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="DeliveryMode">Delivery Mode</label>
                                        <input [(ngModel)]="gateEntryMModel.deliverymode" placeholder="Delivery Mode"
                                            class="form-control" id="deliverymode1" name="deliverymode1" type="text"
                                            required readonly>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="supname"> Supplier Name </label>
                                        <input [(ngModel)]="gateEntryMModel.namE1" class="form-control" id="project1"
                                            placeholder="Supplier Name" name="supname1" type="text" required readonly>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="supplace"> Supplier Place</label>
                                        <input [(ngModel)]="gateEntryMModel.orT01" class="form-control"
                                            placeholder="Supplier Place" id="supplace1" name="supplace1" readonly>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="supcountry"> Supplier Country</label>
                                        <input [(ngModel)]="gateEntryMModel.landx" class="form-control" id="supCountry1"
                                            placeholder="Supplier Country" name="supCountry1" type="text" readonly>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-sm-3" *ngIf="gateEntryMModel.deliverymode=='In Person'">
                                    <div class="form-group form-group-sm">
                                        <label for="deliveryperson">Delivery Person Name
                                        </label>
                                        <input value="{{gateEntryMModel.deliveryperson}}" class="form-control"
                                            id="deliveryperson1" placeholder="Delivery Person" name="deliveryperson1"
                                            type="text" readonly>
                                    </div>
                                </div>
                                <div class="col-sm-3" *ngIf="gateEntryMModel.deliverymode=='Vehicle'">
                                    <div class="form-group form-group-sm">
                                        <label for="vehicleNoEnt">Vehicle No
                                        </label>
                                        <input type="text" value="{{gateEntryMModel.vehicleno}}" class="form-control"
                                            id="vehicleNo1" placeholder="Vehicle #" name="vehicleNo1" readonly>
                                    </div>
                                </div>
                                <div class="col-sm-3" *ngIf="gateEntryMModel.deliverymode=='Vehicle'">
                                    <div class="form-group form-group-sm">
                                        <label for="transporterNameEnt">Transporter Name </label>
                                        <input type="text" value="{{gateEntryMModel.transporterName}}" class="form-control"
                                        id="transporterName1" placeholder="Transporter Name" name="transporterName1" readonly>
                                    </div>
                                </div>
                                <div class="col-sm-3" *ngIf="gateEntryMModel.deliverymode=='Vehicle'">
                                    <div class="form-group form-group-sm">
                                        <label for="lrNoEnt">LR No </label>
                                        <input type="text" value="{{gateEntryMModel.lrNo}}" class="form-control" 
                                            id="lrNo1" placeholder="LR No" name="lrNo1" readonly>                                       
                                    </div>
                                </div>
                                <div class="col-sm-3" *ngIf="gateEntryMModel.deliverymode=='Vehicle'">
                                    <div class="form-group form-group-sm">
                                        <label for="driverNameEnt">Driver Name</label>
                                        <input type="text" value="{{gateEntryMModel.driverName}}" class="form-control" 
                                        id="driverName1" placeholder="Driver Name" name="driverName1" readonly>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="inwardTime">Inward Time</label>
                                        <input name="inwardTime1" class="form-control"
                                            value="{{iN_TIME | date:'dd/MM/yyyy, HH:mm'}}" readonly>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="remarks">Remarks</label>
                                        <textarea class="form-control" id="remarks1" placeholder="Remarks"
                                            name="remarks1" readonly>{{gateEntryMModel.remarks}}</textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="row" *ngIf="gateEntryMModel.deliverymode=='Courier'">
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="courierName">Courier Name
                                        </label>
                                        <input value="{{gateEntryMModel.courier_Name}}" class="form-control"
                                            placeholder="Courier Name" id="courierName1" name="courierName1" type="text"
                                            readonly>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="courierNum">Docket Number
                                        </label>
                                        <input value="{{gateEntryMModel.courier_Num}}" class="form-control"
                                            placeholder="Docket Number" id="courierNum1" name="courierNum1" type="text"
                                            readonly>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="courierDate">Docket Date
                                        </label>
                                        <input type="text" name="courierDate1" id="courierDate1" class="form-control"
                                            value="{{gateEntryMModel.courier_Date | date:'dd/MM/yyyy'}}"
                                            placeholder="Docket Date" readonly>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3">
                                <div class="form-group form-group-sm" [ngClass]="(receivedDateENT.touched && !receivedDateENT.valid)?'has-error':''">
                                    <label for="receivedDate">Received Date<span style="color:red">*</span>
                                    </label>
                                    <input [min]="intime" [owlDateTime]="recdt3" #receivedDateENT="ngModel" required [owlDateTimeTrigger]="recdt3" name="receivedDate"
                                    class="form-control" [max]="today" [(ngModel)]="gateEntryMModel.receiveD_DATE" placeholder="Received Date" matTooltip="enter received Date" [readonly]="isAcknowledge">
                                    <owl-date-time [pickerType]="'calendar'" #recdt3></owl-date-time>
                                    <span class="help-block" *ngIf="!receivedDateENT.valid && receivedDateENT.touched">Please Enter Received Date.</span>
                                  </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group form-group-sm">
                                        <label for="comments">Comments</label>
                                        <textarea [(ngModel)]="gateEntryMModel.comments" class="form-control"
                                            id="comments" placeholder="comments" name="comments" matTooltip="Enter comments"
                                            ngControl="gateEntryMModel.comments" #commentsEnt="ngModel"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="table-responsive">
                                        <table class="table table-bordered" cellspacing="0" style="margin-bottom: 0px;">
                                            <thead>
                                                <tr>
                                                    <th>Sl.No</th>
                                                    <th>Material Type</th>
                                                    <th>Material Description</th>
                                                    <th>UOM</th>
                                                    <th>Qty Received</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr *ngFor="let matrl of dynamicArray; let rec=index">
                                                    <td>
                                                        {{rec+1}}
                                                    </td>
                                                    <td>
                                                        {{matrl.iteM_CODE}}
                                                    </td>
                                                    <td>
                                                        {{matrl.iteM_DESC}}
                                                    </td>
                                                    <td>
                                                        {{matrl.uom}}
                                                    </td>
                                                    <td>
                                                        {{matrl.qtY_RCVD}}
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="overlay" *ngIf="isLoadingPop">
                    <i class="fa fa-spinner fa-pulse"></i>
                </div>
            </div>
            <div class="modal-footer">
                <span class="text-red pull-left" *ngIf="errMsgPop.length>0"><i
                        class="fa fa-warning"></i>{{errMsgPop}}</span>
                <button type="button" class="btn btn-primary" (click)="departmentAcknowledge()" matTooltip="Click to Submit"
                    [disabled]="isLoadingPop ||!depForm.valid || isAcknowledge">Save</button>
                <button type="button" class="btn btn-default" style="background-color:darkgray;color:white;"
                    data-dismiss="modal" [disabled]="isLoadingPop" matTooltip="Click to close modal">Close</button>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
</div>
<!-- material master model -->
<div class="modal fade" id="materialModal" tabindex="-1" role="dialog" aria-labelledby="materialModalLabel"
    aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>

                <h4 class="modal-title">Add Material</h4>
            </div>
            <div class="modal-body box-primary">
                <div class="row">
                    <div class="col-sm-12">
                        <form #matForm="ngForm">
                            <!-- <div class="form-horizontal"> -->
                            <div class="form-group form-group-sm"
                                [ngClass]="(!mtypeEnt.valid && mtypeEnt.touched)?'has-error':''">
                                <label for="mtype"> Material Type<span style="color:red">*</span></label>
                                <div class="col-sm-12">
                                    <input type="text" class="form-control" id="mtype" placeholder="Material Type"
                                        [(ngModel)]="materialItem.fkMaterialType" name="mtype" ngControl="materialItem.fkMaterialType"
                                        #mtypeEnt="ngModel" required maxlength="50">
                                    <span class="help-block" *ngIf="!mtypeEnt.valid && mtypeEnt.touched">Please Enter
                                        type.</span>
                                </div>
                            </div>
                            <div class="form-group form-group-sm"
                                [ngClass]="(!mdescEnt.valid && mdescEnt.touched)?'has-error':''">
                                <label for="mdesc">Material Description<span style="color:red">*</span></label>
                                <div class="col-sm-12">
                                    <input type="text" class="form-control" id="mdesc"
                                        placeholder="Material Description" ngControl="materialItem.description"
                                        [(ngModel)]="materialItem.description" name="mdesc" maxlength="200"
                                        #mdescEnt="ngModel" required />
                                    <span class="help-block" *ngIf="!mdescEnt.valid && mdescEnt.touched"
                                        style="color:red">Please enter
                                        description
                                        password.</span>
                                </div>
                            </div>
                            <!-- </div> -->
                        </form>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <span class="text-red pull-left" *ngIf="errMsgPop.length>0"><i
                        class="fa fa-warning"></i>{{errMsgPop}}</span>

                <button type="button" class="btn btn-primary" (click)="saveMaterial(true)"
                    [disabled]="matForm.invalid || isLoadingPop">Add Material</button>
                <button type="button" class="btn btn-default" style="background-color:darkgray;color:white;"
                    data-dismiss="modal">Close</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
    <div class="overlay" *ngIf="isLoadingPop">
        <!--<i class="fa fa-refresh fa-spin"></i>--><i class="fa fa-spinner fa-pulse"></i>
    </div>
</div>
<!-- Supplier master model -->
<div class="modal fade" id="supplierModal" tabindex="-1" role="dialog" aria-labelledby="supplierModalLabel"
    aria-hidden="true" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-md">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>

                <h4 class="modal-title">Add Supplier</h4>
            </div>
            <div class="modal-body box-primary">
                <div class="row">
                    <div class="col-sm-12">
                        <form #suppForm="ngForm">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group form-group-sm"
                                        [ngClass]="(!spcodeEnt.valid && spcodeEnt.touched)?'has-error':''">
                                        <label for="spcode">Code<span style="color:red">*</span></label>
                                        <input type="text" class="form-control" id="spcode" placeholder="Supplier Code"
                                            [(ngModel)]="supplierItem.code" name="spcode" ngControl="supplierItem.code"
                                            #spcodeEnt="ngModel" required maxlength="50">
                                        <span class="help-block" *ngIf="!spcodeEnt.valid && spcodeEnt.touched">Please
                                            Enter Supplier Code.</span>
                                    </div>
                                    <div class="form-group form-group-sm"
                                        [ngClass]="(!splaceEnt.valid && splaceEnt.touched)?'has-error':''">
                                        <label for="splace">Place<span style="color:red">*</span></label>
                                        <input type="text" class="form-control" id="splace" placeholder="Supplier Place"
                                            [(ngModel)]="supplierItem.place" name="splace"
                                            ngControl="supplierItem.place" #splaceEnt="ngModel" required maxlength="50">
                                        <span class="help-block" *ngIf="!splaceEnt.valid && splaceEnt.touched">Please
                                            Enter Supplier place.</span>
                                    </div>
                                    <div class="form-group form-group-sm"
                                        [ngClass]="(!splcodeEnt.valid && splcodeEnt.touched)?'has-error':''">
                                        <label for="splcode">Place Code<span style="color:red">*</span></label>
                                        <input type="text" class="form-control" id="splcode"
                                            placeholder="Supplier Place Code" [(ngModel)]="supplierItem.placeCode"
                                            name="splcode" ngControl="supplierItem.placeCode" #splcodeEnt="ngModel"
                                            required maxlength="3">
                                        <span class="help-block" *ngIf="!splcodeEnt.valid && splcodeEnt.touched">Please
                                            Enter Supplier Place Code.</span>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group form-group-sm"
                                        [ngClass]="(!snameEnt.valid && snameEnt.touched)?'has-error':''">
                                        <label for="sname">Name<span style="color:red">*</span></label>
                                        <input type="text" class="form-control" id="sname" placeholder="Supplier Name"
                                            ngControl="supplierItem.name" [(ngModel)]="supplierItem.name" name="sname"
                                            maxlength="200" #snameEnt="ngModel" required />
                                        <span class="help-block" *ngIf="!snameEnt.valid && snameEnt.touched"
                                            style="color:red">Please enter Suppiler Name
                                        </span>
                                    </div>
                                    <div class="form-group form-group-sm"
                                        [ngClass]="(!scountryEnt.valid && scountryEnt.touched)?'has-error':''">
                                        <label for="scountry">Country<span style="color:red">*</span></label>
                                        <input type="text" class="form-control" id="scountry" placeholder="Country"
                                            ngControl="supplierItem.country" [(ngModel)]="supplierItem.country"
                                            name="scountry" maxlength="200" #scountryEnt="ngModel" required />
                                        <span class="help-block" *ngIf="!scountryEnt.valid && scountryEnt.touched"
                                            style="color:red">Please enter Country
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <span class="text-red pull-left" *ngIf="errMsgPop.length>0"><i
                        class="fa fa-warning"></i>{{errMsgPop}}</span>

                <button type="button" class="btn btn-primary" (click)="saveSupplier(true);"
                    [disabled]="suppForm.invalid || isLoadingPop">Add Supplier</button>
                <button type="button" class="btn btn-default" style="background-color:darkgray;color:white;"
                    data-dismiss="modal">Close</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
    <div class="overlay" *ngIf="isLoadingPop">
        <!--<i class="fa fa-refresh fa-spin"></i>--><i class="fa fa-spinner fa-pulse"></i>
    </div>
</div>
<!--Print Modal-->
<div class="modal fade" id="printModal" role="dialog" aria-labelledby="printModalLabel" aria-hidden="true"
    data-backdrop="static" data-keyboard="false">

    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header" style="background-color: #68a7d2;color:white;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h3 class="modal-title">Gate Entry - With out PO @{{locationName}}
                </h3>
            </div>
            <!-- <div class="tabs-container"> -->
            <div class="modal-body box-primary" style="box-shadow: none;">
                <div class="container" id="print-section">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="row">
                                <div class="col-sm-12">
                                  <div class="pull-left"><img src="../../assets/dist/img/micrologo.png"></div>
                                  <div class="col-sm-7">
                                    <h3 class="print-h1">Gate Entry - With Out PO</h3>
                                  </div>
                                  <div class="pull-right">
                                    <ngx-barcode bc-value="{{gateEntryMModel.gI_NO}}" [bc-display-value]="true" [bc-element-type]="elementtype"
                                      [bc-height]="80">
                                    </ngx-barcode>
                                  </div>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <strong>Financial Year: </strong> {{gateEntryMModel.fiN_YEAR}}
                                        </div>
                                        <div class="col-sm-4">
                                            <strong>Invoice Number: </strong> {{gateEntryMModel.doC_NO}}
                                        </div>
                                        <div class="col-sm-4">
                                            <strong>Invoice Date: </strong>
                                            {{gateEntryMModel.doC_DATE | date:'dd/MM/yyyy'}}
                                        </div>
                                        <div class="col-sm-4">
                                            <strong>Plant: </strong> {{locationName}}
                                          </div>
                                    </div>
                                    <div class="row">
                                        <!-- <div class="col-sm-4">
                                                                                <strong>Supplier Code: </strong> {{gateEntryMModel.vendor}}
                                                                            </div> -->
                                        <div class="col-sm-4">
                                            <strong>Supplier Name: </strong> {{gateEntryMModel.namE1}}
                                        </div>
                                        <div class="col-sm-4">
                                            <strong>Supplier Place: </strong> {{gateEntryMModel.orT01}}
                                        </div>
                                        <div class="col-sm-4">
                                            <strong>Supplier Country: </strong> {{gateEntryMModel.landx}}
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <strong>Delivery Mode: </strong> {{gateEntryMModel.deliverymode}}
                                        </div>
                                        <div class="col-sm-4" *ngIf="gateEntryMModel.deliverymode=='Vehicle'">
                                            <strong>Vehicle No: </strong> {{gateEntryMModel.vehicleno}}
                                        </div>
                                        <div class="col-sm-4" *ngIf="gateEntryMModel.deliverymode=='In Person'">
                                            <strong>Delivery Person Name: </strong> {{gateEntryMModel.deliveryperson}}
                                        </div>
                                    </div>
                                    <div class="row" *ngIf="gateEntryMModel.deliverymode=='Courier'">
                                        <div class="col-sm-4">
                                            <strong>Courier Name: </strong> {{gateEntryMModel.courier_Name}}
                                        </div>
                                        <div class="col-sm-4">
                                            <strong>Docket No: </strong> {{gateEntryMModel.courier_Num}}
                                        </div>
                                        <div class="col-sm-4">
                                            <strong>Docket Date: </strong>
                                            {{gateEntryMModel.courier_Date | date:'dd/MM/yyyy'}}
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <strong>Inward Date&Time: </strong>
                                            {{gateEntryMModel.iN_TIME | date:'dd/MM/yyyy, HH:mm'}}
                                        </div>
                                        <div class="col-sm-4">
                                            <strong>Received By: </strong> {{gateEntryMModel.persoN_NAME}}
                                        </div>
                                        <div class="col-sm-4">
                                            <strong>Gate No: </strong> {{gateEntryMModel.gI_GATENO}}
                                        </div>
                                    </div>
                                    <div class="row mt-4">
                                        <div class="col-sm-12">
                                            <div class="table-responsive">
                                                <table class="table table-bordered printtable" cellspacing="0">
                                                    <thead>
                                                        <tr>
                                                            <th>Sl.No</th>
                                                            <th>Material Type</th>
                                                            <th>Material Description</th>
                                                            <th>UOM</th>
                                                            <th>Qty Received</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr *ngFor="let matrl of dynamicArray; let rec=index">
                                                            <td>
                                                                {{rec+1}}
                                                            </td>
                                                            <td>
                                                                {{matrl.iteM_CODE}}
                                                            </td>
                                                            <td>
                                                                {{matrl.iteM_DESC}}
                                                            </td>
                                                            <td>
                                                                {{matrl.uom}}
                                                            </td>
                                                            <td style="text-align: end;">
                                                                {{matrl.qtY_RCVD}}
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="overlay" *ngIf="isLoadingPop">
                    <i class="fa fa-spinner fa-pulse"></i>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" (click)="print()">Print</button>
                <button type="button" class="btn btn-default" style="background-color:darkgray;color:white;"
                    data-dismiss="modal" [disabled]="isLoadingPop">Close</button>
            </div>
        </div>
    </div>
</div>
