<section class="content-header">
    <h1 class="display-1">
        Asset Status Change
        <small> ITAMS </small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-database" aria-hidden="true"></i> Home</a></li>
    </ol>
</section>

<!--Main Content-->
<section class="content">
    <div class="box">
        <div class="box-header">
            <h1 class="display-1">
                <small><i>Status Change </i></small>
            </h1>
            <div id="dateFilterPanel">
                <div class="col-sm-12">
                    <div class="card-body" style="border: black; box-shadow: grey;">
                        <form #filterForm="ngForm">
                            <div class="row">
                                <div class="col-sm-3">
                                    <div class="form-group form-group-sm">
                                        <label for="location"> Location <span style="color:red">*</span></label>
                                        <select [(ngModel)]="filterlocation" class="form-control" id="location"
                                            name="location" ngControl="filterlocation" #locationEnt="ngModel"
                                            matTooltip="Select location">
                                            <option [ngValue]="undefined" disabled>--Select an Option--
                                            </option>
                                            <option *ngFor="let status of plantList" value={{status.code}}>
                                                {{status.code}}-{{status.name}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            &nbsp;&nbsp;&nbsp;
                            <div id="dateFilterPanel" *ngIf="filterlocation != null">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="card-body" style="border: black; box-shadow: gray;">
                                            <div class="row">
                                                <div class="col-sm-3">
                                                    <div class="form-group form-group-sm">
                                                        <label for="assetNo"> Asset No <span
                                                                style="color:red">*</span></label>
                                                        <input class="form-control input-sm suggestion" type="text"
                                                            [(ngModel)]="filterassetNo" name="assetNo"
                                                            #assetNoEnt="ngModel" autocomplete="Off"
                                                            placeholder="Asset No" [value]="assetNo" 
                                                            (keyup)="setList(filterassetNo)" id="assetNo"
                                                            ngControl="filterassetNo" [disabled]="isEdit"
                                                            matTooltip="Enter Asset No." required />
                                                    </div>
                                                </div>
                                                <div class="col-sm-3">
                                                    <div class="form-group form-group-sm">
                                                        <label for="assetId"> Asset Id </label>
                                                        <input class="form-control input-sm" type="text"
                                                            [(ngModel)]="filterassetId" name="assetId"
                                                            placeholder="Asset Id" [value]="assetId" 
                                                            [disabled]="isEdit" ngControl="filterassetId" id="assetId"
                                                            matTooltip="Enter Asset Id" disabled />
                                                    </div>
                                                </div>
                                                <div class="col-sm-3">
                                                    <div class="form-group form-group-sm">
                                                        <label for="location"> Location </label>
                                                        <input class="form-control input-sm" type="text"
                                                            [(ngModel)]="filterlocation" name="location"
                                                            placeholder="Location" [value]="location" 
                                                            [disabled]="isEdit" ngControl="filterlocation" id="location"
                                                            matTooltip="Enter Location" disabled />
                                                    </div>
                                                </div>
                                                <div class="col-sm-3">
                                                    <div class="form-group form-group-sm">
                                                        <label for="category">Category</label>
                                                        <input class="form-control input-sm" type="text"
                                                            [(ngModel)]="filtercategory" name="category"
                                                            placeholder="Category" [value]="category"
                                                            [disabled]="isEdit" ngControl="filtercategory" id="category"
                                                            matTooltip="Enter Category" disabled />
                                                    </div>
                                                </div>
                                                <div class="col-sm-3">
                                                    <div class="form-group form-group-sm">
                                                        <label for="model"> Model </label>
                                                        <input class="form-control input-sm" type="text"
                                                            [(ngModel)]="filtermodel" name="model" placeholder="Model"
                                                            [value]="model"  [disabled]="isEdit"
                                                            id="model" ngControl="filtermodel" matTooltip="Enter Model"
                                                            disabled />
                                                    </div>
                                                </div>
                                                <div class="col-sm-3">
                                                    <div class="form-group form-group-sm">
                                                        <label for="manufacturer"> Manufacturer </label>
                                                        <input class="form-control input-sm" type="text"
                                                            [(ngModel)]="filtermanufacturer" name="manufacturer"
                                                            placeholder="Manufacturer" [value]="manufacturer"
                                                             [disabled]="isEdit" id="manufacturer"
                                                            ngControl="filtermanufacturer"
                                                            matTooltip="Enter Manufacturer" disabled />
                                                    </div>
                                                </div>
                                                <div class="col-sm-3">
                                                    <div class="form-group form-group-sm">
                                                        <label for="partNo"> Part No.</label>
                                                        <input class="form-control input-sm" type="text"
                                                            [(ngModel)]="filterpartNo" name="partNo"
                                                            placeholder="Part No" [value]="partNo"
                                                            [disabled]="isEdit" ngControl="filterpartNo" id="partNo"
                                                            matTooltip="Enter Part No" disabled />
                                                    </div>
                                                </div>
                                                <div class="col-sm-3">
                                                    <div class="form-group form-group-sm">
                                                        <label for="serialNo"> Serial No. </label>
                                                        <input class="form-control input-sm" type="text"
                                                            [(ngModel)]="filterserialNo" name="serialNo"
                                                            placeholder="Serial No" [value]="serialNo" 
                                                            [disabled]="isEdit" ngControl="filterserialNo" id="serialNo"
                                                            matTooltip="Enter Serial No" disabled />
                                                    </div>
                                                </div>
                                                <div class="col-sm-3">
                                                    <div class="form-group form-group-sm">
                                                        <label for="processor"> Processor </label>
                                                        <input class="form-control input-sm" type="text"
                                                            [(ngModel)]="filterprocessor" name="processor"
                                                            placeholder="Processor" [value]="processor" 
                                                            [disabled]="isEdit" ngControl="filterprocessor"
                                                            id="processor" matTooltip="Enter Processor" disabled />
                                                    </div>
                                                </div>
                                                <div class="col-xs-1">
                                                    <div class="form-group form-group-sm">
                                                        <label for="ram"> RAM</label>
                                                        <input class="form-control input-sm" type="text"
                                                            [(ngModel)]="filterram" name="ram" placeholder="RAM"
                                                            [value]="ram"  [disabled]="isEdit" id="ram"
                                                            ngControl="filterram" matTooltip="Enter RAM" disabled />
                                                    </div>
                                                </div>
                                                <div class="col-xs-1">
                                                    <div class="form-group form-group-sm">
                                                        <label for="hdd"> HDD.</label>
                                                        <input class="form-control input-sm" type="text"
                                                            [(ngModel)]="filterhdd" name="hdd" placeholder="HDD"
                                                            [value]="hdd"  [disabled]="isEdit" id="hdd"
                                                            ngControl="filterhdd" matTooltip="Enter HDD" disabled />
                                                    </div>
                                                </div>
                                                <div class="col-sm-2">
                                                    <div class="form-group form-group-sm">
                                                        <label for="ipAddress"> IP Address.</label>
                                                        <input class="form-control input-sm" type="text"
                                                            [(ngModel)]="filteripAddress" name="ipAddress" placeholder="Ip Address"
                                                            [value]="ipAddress"  [disabled]="isEdit" id="ipAddress"
                                                            ngControl="filteripAddress" matTooltip="Enter Ip Address" disabled />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <div class="form-group form-group-sm">
                                                        <label for="config"> Configurations. </label>
                                                        <input class="form-control input-sm" type="text"
                                                            [(ngModel)]="filterconfig" name="config"
                                                            placeholder="Config" [value]="config" 
                                                            [disabled]="isEdit" id="config" ngControl="filterconfig"
                                                            matTooltip="Enter Config" disabled />
                                                    </div>
                                                </div>

                                                <div class="col-sm-2">
                                                    <div class="form-group form-group-sm">
                                                        <div class="form-group form-group-sm">
                                                            <label for="currstate"> Current Asset State</label>
                                                            <input class="form-control input-sm" ngContrl = "filtercurrstate"
                                                            [(ngModel)]="filtercurrstate" value="currstate" type="text"
                                                            id="currstate" name="currstate" [disabled]="isEdit"
                                                            placeholder="AssetState" required readonly="true" />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    &nbsp;&nbsp;&nbsp;
                                    &nbsp;&nbsp;&nbsp;
                                    &nbsp;&nbsp;&nbsp;

                                    <div class="col-xs-6">
                                        <span class="label label-danger" *ngIf="errMsg.length>0">{{errMsg}}</span>
                                    </div>
                                </div>

                                &nbsp;&nbsp;&nbsp;
                                &nbsp;&nbsp;&nbsp;
                                &nbsp;&nbsp;&nbsp;

                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="form-group form-group-sm">
                                            <label for="filterstatus"> Change Status To: <span
                                                    style="color:red">*</span></label>
                                            <select [(ngModel)]="filterstatus" class="form-control" id="filterstatus"
                                                name="filterstatus" ngControl="filterstatus" #filterstatusEnt="ngModel"
                                                matTooltip="Select type" required>
                                                <option [ngValue]="null" disabled>--Select an Option--</option>
                                                <option *ngFor="let status of statuslist" value={{status.name}}>
                                                    {{status.name}}
                                                </option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-10">
                                        <div class="form-group form-group-sm">
                                            <label for="filternature"> Nature of Activities Performed /
                                                Function<span style="color:red">*</span></label>
                                            <textarea maxlength="200" placeholder="Max of 200 chars."
                                                [(ngModel)]="filternature" ngControl="filternature"
                                                #filternatureEnt="ngModel" class="form-control" id="filternature"
                                                name="filternature"
                                                onkeyup="this.value = this.value.replace(/'/g,'`')"></textarea>
                                        </div>
                                    </div>
                                </div>

                                <div class="text-center">
                                    <button type="button" class="btn btn-primary" (click)="onUpdate()"
                                        [disabled]="!filterForm.valid || (filtercurrstate == filterstatus) ">Update</button>
                                    &nbsp;&nbsp;
                                    <button type="button" class="btn btn-primary" (click)="clearFilter();"
                                        data-dismiss="modal" [disabled]="isLoading"
                                        matTooltip="click to reset">Clear</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>