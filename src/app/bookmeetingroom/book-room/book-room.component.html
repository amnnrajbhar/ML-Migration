<section class="content-header">
  <h1 class="display-1">
    Room Booking
  </h1>
  <ol class="breadcrumb">
    <li><a href="#"><i class="fa fa-database" aria-hidden="true"></i> Home</a></li>
    <li class="active">Book Room</li>
  </ol>
</section>
<section class="content">
  <div class="box shadow">
    <div class="box-header">
      <div class="col-xs-12">
        <h3 class="box-title">Book Room</h3>
      </div>
    </div>
    <div class="box-body table-responsive">
      <div class="col-sm-12">
        <!-- <form role="form" class='form-horizontal'> -->
          <div class="row">
            <div class="col-sm-3">
              <div class="form-group">
                <label for="Location">Location</label>
                <select [(ngModel)]="baseLocation" class="form-control" id="locationName"
                  name="locationName" (change)="onSelect($event.target.value)" disabled>
                  <option *ngFor="let location of locationList" value="{{location.id}}">
                    {{location.code + '-' + location.name}}</option>
                </select>
              </div>
            </div>
            <div class="col-sm-3">
              <div class="form-group">
                <label for="Location">Room Type</label>
                <select [(ngModel)]="roomType" class="form-control" id="roomType" matTooltip="select room type"
                  name="roomType" (change)="onSelectType($event.target.value)">
                  <option [value]="null" disabled>--select Type--</option>
                  <option *ngFor="let rmtype of roomsTypeList" value="{{rmtype.id}}">
                    {{rmtype.type}}</option>
                </select>
              </div>
            </div>
          </div>
          <div class="row" *ngIf="roomsInfoList.length>0">
            <!-- <div class="col-sm-12"> -->
            <div class="col-xs-3">
              <!-- Nav tabs -->
              <ul class="nav nav-tabs tabs-left sideways">
                <li *ngFor="let room of roomsInfoList; let i=index" [class.active]="isActiveTab(i,room)"><a href="#{{room.id}}"
                    data-toggle="tab" (click)="onSelectRoom(room)">{{room.name}}</a></li>
              </ul>
            </div>
            <div class="col-xs-9" style="padding-left: 0px;">
              <!-- Tab panes -->
              <div class="tab-content">
                <div class="tab-pane active" id="{{roomInformation.id}}">
                  <!-- <div class="col-md-12"> -->
                    <div class="card shadow" style="border: none;">
                      <div class="card-body">
                        <button type="button" matTooltip="Click for add new room" [matTooltipPosition]="'after'" matTooltip="Click to book"
                          class="btn btn-primary pull-right btn-sm" (click)="onBookEvent()"><i class="fa fa-plus"
                            aria-hidden="true"></i> Book</button>
                        <div class="table-responsive-sm c-mt-5">
                          <table class="table">
                            <tbody>
                              <tr>
                                <td class="success col-md-3">Name: </td>
                                <td>{{roomInformation.name}}</td>
                                <td class="success col-md-3">Type: </td>
                                <td>{{selectedRoomType.type}}</td>
                              </tr>
                              <tr>
                                <td class="success col-md-3">Capacity: </td>
                                <td>{{roomInformation.capacity}}</td>
                                <td class="success col-md-3">Facilities: </td>
                                <td>
                                  <ul>
                                    <li *ngFor="let facility of selectedItems">{{facility.name}}</li>
                                  </ul>
                                </td>
                              </tr>
                              <tr>
                                <td class="success col-md-3">Description: </td>
                                <td colspan="3">{{roomInformation.description}}</td>
                              </tr>
                              <tr>
                                <td class="success col-md-3"> Manager Approval: </td>
                                <td>{{roomInformation.manager_Approval?'yes':'no'}}</td>
                                <td class="success col-md-3"> Admin Approval: </td>
                                <td>{{roomInformation.admin_Approval?'yes':'no'}}</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                        <div class="card-title">
                          Gallery
                        </div>
                        <div *ngFor="let image of images; let i=index">
                          <div class="col-xs-3 flex-fluid">
                            <img alt="picture" [src]="image.url" (click)="open(i)" width="150px" height="100px"
                              class="img-fluid lb-image">
                          </div>
                        </div>
                      </div>
                    </div>
                  <!-- </div> -->
                </div>
              </div>
            </div>
            <!-- </div> -->
          </div>
          <div class="overlay" *ngIf="isLoading">
            <i class="fa fa-spinner fa-pulse"></i>
          </div>
        <!-- </form> -->
      </div>
    </div>
  </div>
</section>